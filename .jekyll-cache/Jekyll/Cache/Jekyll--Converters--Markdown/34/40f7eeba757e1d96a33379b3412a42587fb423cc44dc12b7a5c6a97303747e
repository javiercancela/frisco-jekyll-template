I"Z<p><strong>¬øQu√© es una notificaci√≥n <em>push</em></strong><strong>?</strong></p>

<p><a href="http://www.flickr.com/photos/jeffhenshaw/3225601827/"><img class=" alignright" style="border:5px solid black;" title="Jeff Henshaw: Apple's Push Notification Service" src="http://farm4.static.flickr.com/3341/3225601827_3aa6473718_m.jpg" alt="Jeff Henshaw: Apples Push Notification Service" width="240" height="135" /></a></p>

<p>Es un mensaje que una aplicaci√≥n servidora env√≠a a una aplicaci√≥n cliente indic√°ndole que tiene alg√∫n tipo de informaci√≥n nueva disponible. Lo que distingue a las notificaciones <em>push</em> es que el servidor inicia la comunicaci√≥n, no espera a que el cliente pregunte si hay algo nuevo. La ventaja es la inmediatez: la informaci√≥n llega al cliente (y por tanto al usuario) en cuanto est√° disponible en el servidor.</p>

<p>El ejemplo m√°s cl√°sico de este tipo de notificaciones es el correo electr√≥nico. Un usuario tiene una aplicaci√≥n de correo electr√≥nico ejecut√°ndose en su dispositivo. Alguien le env√≠a un correo, que queda almacenado en el servidor. A partir de ah√≠ pueden ocurrir dos cosas:</p>

<ul>
  <li>El cliente de correo electr√≥nico est√° configurado para consultar al servidor, con una frecuencia predeterminada, si hay nuevos correos. Si la frecuencia es de una vez cada 5 minutos el usuario puede tardar ese tiempo en enterarse de que ha recibido un correo nuevo.</li>
  <li>El cliente (y el servidor) soportan notificaciones <em>push</em>. En este caso el servidor env√≠a un mensaje al cliente para avisarle de que ha llegado un nuevo correo, y el cliente a su vez se lo notifica de alguna forma al usuario para que lo lea si le interesa.</li>
</ul>

<p>En el caso de las aplicaciones de mensajer√≠a instant√°nea la necesidad de la inmediatez es a√∫n m√°s manifiesta: para que la conversaci√≥n sea fluida necesitamos que los mensajes nos lleguen en cuanto son enviados, e incluso queremos saber cu√°ndo nuestro interlocutor est√° escribiendo algo.</p>

<p><strong>¬øC√≥mo se implementa una notificaci√≥n <em>push</em></strong><strong>?</strong></p>

<p>La manera habitual de implementar una notificaci√≥n <em>push</em> es establecer una conexi√≥n TCP de larga duraci√≥n. El cliente abre una conexi√≥n TCP con el servidor y la deja abierta. Sobre esta conexi√≥n TCP el servidor enviar√° las notificaciones al cliente, usando alg√∫n protocolo de aplicaci√≥n. <a title="IMAP" href="http://en.wikipedia.org/wiki/Internet_Message_Access_Protocol" target="_self">IMAP</a> y <a title="XMPP" href="http://en.wikipedia.org/wiki/Extensible_Messaging_and_Presence_Protocol" target="_self">XMPP</a> son ejemplos de protocolos est√°ndar usados para correo y mensajer√≠a respectivamente, aunque existen m√∫ltiples protocolos propietarios.</p>

<p><strong>Notificaciones <em>push</em></strong> <strong>en BlackBerry</strong></p>

<p><a href="http://www.flickr.com/photos/indivisualist/3500715353/"><img class="  alignright" title="BlackBerry" src="http://farm4.static.flickr.com/3547/3500715353_8a83868705_m.jpg" alt="indivisualist - BlackBerry" width="240" height="195" /></a></p>

<p>El √©xito de las BlackBerry se debe en parte a su sistema de <em>push email</em>. Cuando leer el correo desde el m√≥vil era una experiencia dolorosa en otros sistemas, las BlackBerry ya consegu√≠an que sus usuarios recibiesen el correo de manera instant√°nea. RIM subscribe un acuerdo con los operadores de telefon√≠a, por el cual se establece una conexi√≥n permanente con unos servidores especiales operados por RIM. Estos servidores reciben el correo del usuario desde los servidores <a href="http://en.wikipedia.org/wiki/BlackBerry_Enterprise_Server">BES</a>, y lo notifican de forma inmediata a las BlackBerry.</p>

<p>La tecnolog√≠a de notificaciones <em>push</em> de RIM est√° disponible para terceros a trav√©s de la <a href="http://na.blackberry.com/eng/developers/javaappdev/pushapi.jsp?CPID=PUSHAPI00" target="_self">BlackBerry Push API</a>.</p>

<p><strong>Notificaciones <em>push</em></strong> <strong>en iPhone</strong></p>

<p>Apple incorpor√≥ desde el principio un sistema de notificaciones <em>push</em> para el correo electr√≥nico de Yahoo. La aparici√≥n de <a href="http://www.apple.com/es/mobileme/">MobileMe</a> a√±adi√≥ notificaciones <em>push</em> tanto para el correo como para el calendario y los contactos.</p>

<p>Cuando Apple dise√±√≥ la SDK del iPhone tom√≥ la decisi√≥n de no permitir a los desarrolladores crear aplicaciones que se ejecutasen en segundo plano. Como consecuencia, las aplicaciones desarrolladas por terceros s√≥lo se ejecutan mientras est√°n en primer plano, deteni√©ndose cuando el usuario quiere realizar otra actividad.</p>

<p>La nueva versi√≥n de la SDK incorpora el <a href="http://developer.apple.com/iphone/program/sdk/">Apple Push Notification service</a>, un servicio que env√≠a notificaciones a las aplicaciones del iPhone aunque estas no se est√©n ejecutando. Para ello la notificaci√≥n pasa primero por los servidores de Apple, con los que el m√≥vil mantiene siempre una conexi√≥n abierta. La notificaci√≥n se env√≠a al m√≥vil y se muestra al usuario como un mensaje de texto o como una ventana de notificaci√≥n, que servir√°n adem√°s para lanzar la aplicaci√≥n y procesar la notificaci√≥n recibida.</p>

<p><strong>Notificaciones <em>push</em></strong> <strong>en Android</strong></p>

<p>Android proporciona notificaciones <em>push</em> para el correo electr√≥nico, calendario y contactos, tanto en el HTC Dream como en el HTC Magic. Como en los casos anteriores, el sistema establece un canal siempre abierto con los los servidores del proveedor (en este caso Google).</p>

<p>Aunque los desarrolladores de Android tienen la opci√≥n de programar aplicaciones que se ejecuten en segundo plano el sistema se reserva el derecho de detener cualquier aplicaci√≥n cuando as√≠ lo decida, en funci√≥n de los recursos disponibles en la m√°quina. As√≠ que podemos desarrollar un cliente que mantenga conexiones TCP de larga duraci√≥n con el servidor ejecut√°ndose en <em>bakcground</em>, pero no podemos garantizar que la aplicaci√≥n se est√© ejecutando para mantener esta conexi√≥n abierta. Claro que este problema se presenta aunque queramos traernos la informaci√≥n usando <em>pull</em>, es decir, consultando al servidor de peri√≥dicamente.</p>

<p>En las versiones beta de la SDK se inclu√≠a un servicio llamada XMPPService o GTalkService, que permit√≠a a los desarrolladores enviar notificaciones utilizando la infraestructura de Google Talk. Este servicio fue retirado de la versi√≥n final de la SDK por problemas de seguridad, como se explica aqu√≠: <em><a href="http://android-developers.blogspot.com/2008/08/some-information-on-apis-removed-in.html" title="Some information on APIs removed in the Android 0.9 SDK beta">Some information on APIs removed in the Android 0.9 SDK beta</a></em>. No ser√≠a extra√±o que Google incluyese una versi√≥n mejorada en alguna de las pr√≥ximas versiones de Android.</p>
:ET