<!DOCTYPE html>

<html lang="en">
	<head>
		<script type="text/javascript">
		    var host = "www.javiercancela.com";
		    if ((host == window.location.host) && (window.location.protocol != "https:"))
		        window.location.protocol = "https";
		</script>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="generator" content="Jekyll v3.8.6">

		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300|Rubik:300">
		<link rel="stylesheet" href="/css/screen.css">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="/manifest.json">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="theme-color" content="#ffffff">

		<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Un ejemplo de aplicación Java para BlackBerry – Parte I - Página de Javier Cancela</title>
<meta property="og:title" content="Un ejemplo de aplicación Java para BlackBerry – Parte I" />
<meta name="description" content="Introducción" />
<meta property="og:description" content="Introducción" />
<link rel="canonical" href="https://www.javiercancela.com/2008/01/09/un-ejemplo-de-aplicacion-java-para-blackberry-parte-i/" />
<meta property="og:url" content="https://www.javiercancela.com/2008/01/09/un-ejemplo-de-aplicacion-java-para-blackberry-parte-i/" />
<meta property="og:site_name" content="Página de Javier Cancela" />
<meta property="og:image" content="https://www.javiercancela.com/images/obsolete.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2008-01-09T09:00:23+01:00" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Un ejemplo de aplicación Java para BlackBerry – Parte I",
"image": "https://www.javiercancela.com/images/obsolete.jpg",
"datePublished": "2008-01-09T09:00:23+01:00",
"description": "Introducción",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "https://www.javiercancela.com/siteicon.png"}},
"url": "https://www.javiercancela.com/2008/01/09/un-ejemplo-de-aplicacion-java-para-blackberry-parte-i/"}</script>
<!-- End Jekyll SEO tag -->


		
	</head>

	<body>
		<header id="mainHeader">
			<div class="container">
				<div class="company-name">
					<a href="/">
						<span class="dark-logo"><img width="104" height="38" src="/images/logo/dark.png" alt="dark frisco logo"></span>
						<span class="light-logo"><img width="104" height="38" src="/images/logo/light.png" alt="light frisco logo"></span>
					</a>
				</div>
				<nav>
	<a class="nav-toggle" id="open-nav" href="#">&#9776;</a>
	
		
		

		
		<a href="/" class="" >Blog</a>
	
		
		

		
		<a href="/archivo/" class="" >Archivo</a>
	
		
		

		
		<a href="/sobre-mi/" class="" >Sobre mí</a>
	
</nav>

			</div>
		</header>

		<section class="hero" style="background-image: url(/images/obsolete.jpg)">
	<div class="inner-hero text-container">
		<div class="hero-text-container">
			<h1>Un ejemplo de aplicación Java para BlackBerry &#8211; Parte I</h1>
			<p class="subtext"></p>
		</div>
	</div>
</section>

<section>
	<div class="blog-post text-container">
		<p class="post-details">
	
		
		<span class="blog-filter">
			<a href="/category/blackberry/">BlackBerry</a>
		</span>
	
		
		<span class="blog-filter">
			<a href="/category/java-me/">Java ME</a>
		</span>
	
	
	
	
	
	
	
	<span class="post-date">09 de enero de 2008</span>
</p>


		<div class="post-content">
			<p><strong>Introducción</strong></p>

<p>Vamos a hacer un repaso de la estructura y funcionamiento de una aplicación simple para BlackBerry. Para ello nos vamos a basar en un ejemplo de la <a href="http://www.blackberry.com/knowledgecenterpublic/livelink.exe/BlackBerry_Application_Developer_Guide_Volume_1.pdf?func=doc.Fetch&amp;nodeId=1007336&amp;docTitle=BlackBerry+Application+Developer+Guide+Volume+1" title="BlackBerry Application Developer Guide Volume 1"><em>BlackBerry Application Developer Guide</em></a> (<a href="http://www.blackberry.com/knowledgecenterpublic/livelink.exe/BlackBerry_Application_Developer_Guide_Volume_2.pdf?func=doc.Fetch&amp;nodeId=1007339&amp;docTitle=BlackBerry+Application+Developer+Guide+Volume+2" title="BlackBerry Application Developer Guide Volume 2"><em>Vol. 2</em></a>), en concreto el ejemplo <em>GPSDemo</em>, que utilizaremos posteriormente para enlazar con la serie de entradas sobre programación de GPS.</p>

<p>El código fuente de dicho ejemplo, así como el de los demás ejemplos de la guía, está disponible aquí: <a href="http://www.blackberry.com/knowledgecentersupport/kmsupport/supportknowledgebase/files/BlackBerry_Application_Developer_Guide_samples402.zip" title="BlackBerry Application Developer Guide Samples"><em>BlackBerry Application Developer Guide Samples</em></a>.</p>

<p><strong>La clase <code class="highlighter-rouge">BaseApp</code></strong></p>

<p>Para el desarrollo de la aplicación se define una clase abstracta, llamada <code class="highlighter-rouge">BaseApp</code>:</p>

<blockquote>
  <p><code class="highlighter-rouge"><span class="k">package</span> <span class="n">com</span><span class="p">.</span><span class="n">rim</span><span class="p">.</span><span class="n">samples</span><span class="p">.</span><span class="n">docs</span><span class="p">.</span><span class="n">baseapp</span><span class="p">;&lt;</span><span class="n">br</span> <span class="p">/&gt;</span>
<span class="n">import</span> <span class="n">net</span><span class="p">.</span><span class="n">rim</span><span class="p">.</span><span class="n">device</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">i18n</span><span class="p">.*;&lt;</span><span class="n">br</span> <span class="p">/&gt;</span>
<span class="n">import</span> <span class="n">net</span><span class="p">.</span><span class="n">rim</span><span class="p">.</span><span class="n">device</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="nf">system</span><span class="p">.*;&lt;</span><span class="n">br</span> <span class="p">/&gt;</span>
<span class="n">import</span> <span class="n">net</span><span class="p">.</span><span class="n">rim</span><span class="p">.</span><span class="n">device</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">ui</span><span class="p">.</span><span class="n">container</span><span class="p">.*;&lt;</span><span class="n">br</span> <span class="p">/&gt;</span>
<span class="n">import</span> <span class="n">net</span><span class="p">.</span><span class="n">rim</span><span class="p">.</span><span class="n">device</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">ui</span><span class="p">.*;&lt;</span><span class="n">br</span> <span class="p">/&gt;</span>
<span class="n">import</span> <span class="n">net</span><span class="p">.</span><span class="n">rim</span><span class="p">.</span><span class="n">device</span><span class="p">.</span><span class="n">api</span><span class="p">.</span><span class="n">ui</span><span class="p">.</span><span class="n">component</span><span class="p">.*;</span></code></p>

  <p><code class="highlighter-rouge">public abstract class BaseApp extends UiApplication implements BaseAppResource, KeyListener, TrackwheelListener {&lt;br /&gt;
...</code></p>
</blockquote>

<p>La clase hereda de <code class="highlighter-rouge">net.rim.device.api.ui.UiApplication</code>, que es la clase de la que heredan las aplicaciones que tienen interfaz de usuario. Implementa las interfaces <code class="highlighter-rouge">KeyListener</code> y <code class="highlighter-rouge">TrackwheelListener</code>, que veremos más tarde, y <code class="highlighter-rouge">BaseAppResource</code>, una interfaz especial creada por los archivos de recursos, que se usa para internacionalizar las aplicaciones. Esta interfaz tiene un aspecto como este:</p>

<blockquote>
  <p><code class="highlighter-rouge"><span class="k">package</span> <span class="n">com</span><span class="p">.</span><span class="n">rim</span><span class="p">.</span><span class="n">samples</span><span class="p">.</span><span class="n">docs</span><span class="p">.</span><span class="n">baseapp</span><span class="p">;</span></code></p>

  <p><code class="highlighter-rouge">public interface BaseAppResource {&lt;br /&gt;
// Hash of: "com.rim.samples.docs.baseapp.BaseApp".&lt;br /&gt;
long BUNDLE_ID = 0xb2bbab4764b0c17eL;&lt;br /&gt;
String BUNDLE_NAME = "com.rim.samples.docs.baseapp.BaseApp";&lt;br /&gt;
int MENUITEM_CLOSE = 0;&lt;br /&gt;
}</code></p>
</blockquote>

<p><strong>Internacionalización de la aplicación</strong></p>

<p>Siguiendo con la clase <code class="highlighter-rouge">BaseApp</code>:</p>

<blockquote>
  <p><code class="highlighter-rouge">...&lt;br /&gt;
private MenuItem _closeItem;&lt;br /&gt;
private static ResourceBundle _resources =&lt;br /&gt;
ResourceBundle.getBundle(BUNDLE_ID, BUNDLE_NAME);&lt;br /&gt;
...</code></p>
</blockquote>

<p>Declaramos una variable para una de las opciones del menú, en concreto la opción <em>Close</em>, que cerrará la aplicación. <code class="highlighter-rouge">_resources</code> es una variable estática que nos dará acceso a los recursos definidos para la internacionalización de la aplicación. Esta internacionalización consiste, básicamente, en un archivo .rrh donde definimos los recursos (cadenas de texto) que queremos internacionalizar, y un archivo .rrc por idioma donde mostramos el texto para el idioma correspondiente.</p>

<p>En nuestro caso, sólo vamos a hacer una versión inglesa, pero dejaremos abierta la opción a una futura internacionalización. Definimos un archivo con los recursos a internacionalizar (en este caso, sólo el texto del menú <em>Close</em>) en el archivo BaseApp.rhh:</p>

<blockquote>
  <p><code class="highlighter-rouge"><span class="k">package</span> <span class="n">com</span><span class="p">.</span><span class="n">rim</span><span class="p">.</span><span class="n">samples</span><span class="p">.</span><span class="n">docs</span><span class="p">.</span><span class="n">baseapp</span><span class="p">;&lt;</span><span class="n">br</span> <span class="p">/&gt;</span>
<span class="n">MENUITEM_CLOSE</span><span class="p">#</span><span class="m">0</span><span class="p">=</span><span class="m">0</span><span class="p">;</span></code></p>
</blockquote>

<p>Y definimos el texto en el archivo BaseApp.rrc:</p>

<blockquote>
  <p><code class="highlighter-rouge">MENUITEM_CLOSE#0="Close";</code></p>
</blockquote>

<p>El entorno de desarrollo JDE nos proporciona una edición visual de estos archivos. Podemos encontrar una explicación detallada en la <a href="http://www.blackberry.com/knowledgecenterpublic/livelink.exe/BlackBerry_Java_Development_Environment_Development_Guide.pdf?func=doc.Fetch&amp;nodeId=1381409&amp;docTitle=BlackBerry+Java+Development+Environment+Development+Guide" title="Document 	 BlackBerry Java Development Environment Development Guide">guía de desarrollo</a>.</p>

<p><strong>Constructor</strong></p>

<blockquote>
  <p><code class="highlighter-rouge">public BaseApp() {&lt;br /&gt;
_closeItem = new MenuItem(_resources, MENUITEM_CLOSE, 200000, 10) {&lt;br /&gt;
public void run() {&lt;br /&gt;
onExit();&lt;br /&gt;
System.exit(0);&lt;br /&gt;
}&lt;br /&gt;
};&lt;br /&gt;
}</code></p>
</blockquote>

<p>Este constructor crea un objeto <code class="highlighter-rouge">MenuItem</code> en la variable anteriormente declarada. A través del objeto <code class="highlighter-rouge">_recources</code> y la etiqueta <code class="highlighter-rouge">MENUITEM_CLOSE</code> definimos el texto del menú. El tercer parámetro sirve para ordenar los elementos en el menú: cuanto más bajo el número más arriba en el menú. El número es muy elevado porque querremos que el elemento <em>Close</em> esté el último en el menú.</p>

<p>Para explicar el último parámetro y el código posterior, hay que tener en cuenta que la clase <code class="highlighter-rouge">MenuItem</code> implementa la interfaz <code class="highlighter-rouge">Runnable</code>. O más bien la declara, porque es una clase abstracta, y la implementación de <code class="highlighter-rouge">Runnable</code> debemos proporcionarla nosotros. Típicamente crearíamos una subclase que heredase de <code class="highlighter-rouge">MenuItem</code> e implementase el método <code class="highlighter-rouge">run()</code> de <code class="highlighter-rouge">Runnable</code>, pero en este caso hemos optado por una solución más simple: implementar <code class="highlighter-rouge">run()</code> en la creación del objeto.</p>

<p>Es decir, lo que hace el constructor es crear un punto de entrada para la activación del objeto <code class="highlighter-rouge">MenuItem</code> que acaba de crear. Como queremos que sea una opción de <em>Close</em>, lo que haremos será llamar a un método <code class="highlighter-rouge">onExit()</code> y luego <code class="highlighter-rouge">System.exit(0)</code>. ¿Por qué la llada a <code class="highlighter-rouge">onExit()</code>? Porque estamos en una clase abstracta, así que definimos un método <code class="highlighter-rouge">onExit()</code> abstracto que obligue a cualquier subclase a implementarlo con el código que quiera ejecutar a la salida de la aplicación. Si luego no quiere salir con <code class="highlighter-rouge">System.exit(0)</code>, ya lo hacemos nosotros.</p>

<p>Seguiremos hablando de la clase <code class="highlighter-rouge">BaseApp</code> en una próxima entrada.</p>


			<div class="blog-navigation">
				
					<a class="prev" href="/2008/01/08/la-guia-completa-de-symbian-signed/">&laquo; La guía completa de Symbian Signed</a>
				
				
					<a class="next" href="/2008/01/10/nueva-version-de-la-web-movil-de-yahoo/">Nueva versión de la web móvil de Yahoo! &raquo;</a>
				
			</div>


			
		</div>
	</div>
</section>



		<footer>
			<div class="container">
				<p class="editor-link"><a href="cloudcannon:collections/_data/footer.yml" class="btn"><strong>&#9998;</strong> Edit footer</a></p>
				<ul class="footer-left-links">
					
						<li>
							<a  href="/" >
								
								Blog
							</a>
						</li>
					
						<li>
							<a  href="/archivo/" >
								
								Archivo
							</a>
						</li>
					
						<li>
							<a  href="/sobre-mi/" >
								
								Sobre mí
							</a>
						</li>
					
				</ul>
				<ul class="footer-right-links">
					
						<li>
							<a target="_blank" href="https://twitter.com/javier_cancela_" class="twitter-icon">
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z" /></svg>
	
								
							</a>
						</li>
					
						<li>
							<a target="_blank" href="https://www.linkedin.com/in/javiercancela" class="linkedin-icon">
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19,19H16V13.7A1.5,1.5 0 0,0 14.5,12.2A1.5,1.5 0 0,0 13,13.7V19H10V10H13V11.2C13.5,10.36 14.59,9.8 15.5,9.8A3.5,3.5 0 0,1 19,13.3M6.5,8.31C5.5,8.31 4.69,7.5 4.69,6.5A1.81,1.81 0 0,1 6.5,4.69C7.5,4.69 8.31,5.5 8.31,6.5A1.81,1.81 0 0,1 6.5,8.31M8,19H5V10H8M20,2H4C2.89,2 2,2.89 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" /></svg>
	
								
							</a>
						</li>
					
						<li>
							<a  href="/feed.xml" class="rss-icon">
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
	
								
							</a>
						</li>
					
				</ul>
				<p class="copyright">
					<a href="https://cloudcannon.com/">
						Template by CloudCannon
					</a>
				</p>
			</div>
		</footer>

		<script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script src="/js/main.js"></script>
		<script src="/js/prism.js"></script>
		<script id="dsq-count-scr" src="//javiercancela.disqus.com/count.js" async></script>
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
		<script type="text/javascript">
			MathJax.Hub.Config({
				config: ["MMLorHTML.js"],
				extensions: ["tex2jax.js"],
				jax: ["input/TeX"],
				displayAlign: "center",
				tex2jax: {
					inlineMath: [ ['$','$'], ["\\(","\\)"] ],
					displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
					processEscapes: false
				},
				TeX: {
					extensions: ["AMSmath.js", "AMSsymbols.js"],
					TagSide: "right",
					TagIndent: ".8em",
					MultLineWidth: "85%",
					equationNumbers: {
						autoNumber: "AMS",
					},
					unicode: {
						fonts: "STIXGeneral,'Arial Unicode MS'"
					}
				},
				showProcessingMessages: false
			});
		</script>		
	</body>
</html>
