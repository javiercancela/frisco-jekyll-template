<!DOCTYPE html>

<html lang="en">
	<head>
		<script type="text/javascript">
		    var host = "www.javiercancela.com";
		    if ((host == window.location.host) && (window.location.protocol != "https:"))
		        window.location.protocol = "https";
		</script>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="generator" content="Jekyll v3.8.6">

		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300|Rubik:300">
		<link rel="stylesheet" href="/css/screen.css">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="/manifest.json">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="theme-color" content="#ffffff">

		<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Realidad aumentada en Android: AR Compass – III - Página de Javier Cancela</title>
<meta property="og:title" content="Realidad aumentada en Android: AR Compass – III" />
<meta name="description" content="La entrada anterior se centró la clase Compass, que describe la brújula. También presentaba la clase CompassRenderer, que es la encargada de dibujarla en su sitio. Vamos a ver esta clase con más detalle." />
<meta property="og:description" content="La entrada anterior se centró la clase Compass, que describe la brújula. También presentaba la clase CompassRenderer, que es la encargada de dibujarla en su sitio. Vamos a ver esta clase con más detalle." />
<link rel="canonical" href="http://localhost:4000/2009/08/17/realidad-aumentada-en-android-ar-compass-iii/" />
<meta property="og:url" content="http://localhost:4000/2009/08/17/realidad-aumentada-en-android-ar-compass-iii/" />
<meta property="og:site_name" content="Página de Javier Cancela" />
<meta property="og:image" content="http://localhost:4000/images/obsolete.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2009-08-17T09:00:49+02:00" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Realidad aumentada en Android: AR Compass – III",
"image": "http://localhost:4000/images/obsolete.jpg",
"datePublished": "2009-08-17T09:00:49+02:00",
"description": "La entrada anterior se centró la clase Compass, que describe la brújula. También presentaba la clase CompassRenderer, que es la encargada de dibujarla en su sitio. Vamos a ver esta clase con más detalle.",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "http://localhost:4000/siteicon.png"}},
"url": "http://localhost:4000/2009/08/17/realidad-aumentada-en-android-ar-compass-iii/"}</script>
<!-- End Jekyll SEO tag -->


		
	</head>

	<body>
		<header id="mainHeader">
			<div class="container">
				<div class="company-name">
					<a href="/">
						<span class="dark-logo"><img width="104" height="38" src="/images/logo/dark.png" alt="dark frisco logo"></span>
						<span class="light-logo"><img width="104" height="38" src="/images/logo/light.png" alt="light frisco logo"></span>
					</a>
				</div>
				<nav>
	<a class="nav-toggle" id="open-nav" href="#">&#9776;</a>
	
		
		

		
		<a href="/" class="" >Blog</a>
	
		
		

		
		<a href="/archivo/" class="" >Archivo</a>
	
		
		

		
		<a href="/sobre-mi/" class="" >Sobre mí</a>
	
</nav>

			</div>
		</header>

		<section class="hero" style="background-image: url(/images/obsolete.jpg)">
	<div class="inner-hero text-container">
		<div class="hero-text-container">
			<h1>Realidad aumentada en Android: AR Compass – III</h1>
			<p class="subtext"></p>
		</div>
	</div>
</section>

<section>
	<div class="blog-post text-container">
		<p class="post-details">
	
		
		<span class="blog-filter">
			<a href="/category/android/">Android</a>
		</span>
	
	
	
	
	
	
	
	<span class="post-date">17 de agosto de 2009</span>
</p>


		<div class="post-content">
			<p>La entrada anterior se centró la clase Compass, que describe la brújula. También presentaba la clase CompassRenderer, que es la encargada de dibujarla en su sitio. Vamos a ver esta clase con más detalle.</p>

<p><strong>La clase CompassRenderer</strong></p>

<div id="codeSnippetWrapper">
  <div id="codeSnippet" style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;">
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum1" style="color:#606060;">   1:</span> <span style="color:#0000ff;">class</span> CompassRenderer <span style="color:#0000ff;">implements</span> GLSurfaceView.Renderer, SensorEventListener {</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum2" style="color:#606060;">   2:</span>         <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">float</span>   mAccelerometerValues[] = <span style="color:#0000ff;">new</span> <span style="color:#0000ff;">float</span>[3];</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum3" style="color:#606060;">   3:</span>         <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">float</span>   mMagneticValues[] = <span style="color:#0000ff;">new</span> <span style="color:#0000ff;">float</span>[3];</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum4" style="color:#606060;">   4:</span>         <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">float</span> rotationMatrix[] = <span style="color:#0000ff;">new</span> <span style="color:#0000ff;">float</span>[16];</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum5" style="color:#606060;">   5:</span>         <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">float</span> remappedRotationMatrix[] = <span style="color:#0000ff;">new</span> <span style="color:#0000ff;">float</span>[16];</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum6" style="color:#606060;">   6:</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum7" style="color:#606060;">   7:</span>         <span style="color:#0000ff;">private</span> Compass mCompass;</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum8" style="color:#606060;">   8:</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum9" style="color:#606060;">   9:</span>     <span style="color:#0000ff;">public</span> CompassRenderer() {</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum10" style="color:#606060;">  10:</span>         mCompass = <span style="color:#0000ff;">new</span> Compass();</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum11" style="color:#606060;">  11:</span>     }</pre>
  </div>
</div>

<p>La clase CompassRenderer cumple dos funciones: capturar la información de los sensores y renderizar la brújula con esa información.</p>

<p><strong>Implementación de la interfaz SensorEventListener</strong></p>

<p>Como hemos visto en otras entradas, el método onSensorChanged es invocado cada vez que hay nueva información disponible de alguno de los sensores a los que nos hemos subscrito:</p>

<div id="codeSnippetWrapper">
  <div id="codeSnippet" style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;">
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum1" style="color:#606060;">   1:</span> @Override</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum2" style="color:#606060;">   2:</span> <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">void</span> onSensorChanged(SensorEvent event) {</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum3" style="color:#606060;">   3:</span>        <span style="color:#0000ff;">synchronized</span> (<span style="color:#0000ff;">this</span>) {</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum4" style="color:#606060;">   4:</span>             <span style="color:#0000ff;">switch</span>(event.sensor.getType()) {</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum5" style="color:#606060;">   5:</span>             <span style="color:#0000ff;">case</span> Sensor.TYPE_ACCELEROMETER:</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum6" style="color:#606060;">   6:</span>                 mAccelerometerValues = event.values.clone();</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum7" style="color:#606060;">   7:</span>                 <span style="color:#0000ff;">break</span>;</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum8" style="color:#606060;">   8:</span>             <span style="color:#0000ff;">case</span> Sensor.TYPE_MAGNETIC_FIELD:</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum9" style="color:#606060;">   9:</span>                 mMagneticValues = event.values.clone();</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum10" style="color:#606060;">  10:</span>                 <span style="color:#0000ff;">break</span>;</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum11" style="color:#606060;">  11:</span>             <span style="color:#0000ff;">default</span>:</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum12" style="color:#606060;">  12:</span>                 <span style="color:#0000ff;">break</span>;</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum13" style="color:#606060;">  13:</span>             }</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum14" style="color:#606060;">  14:</span>        }</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum15" style="color:#606060;">  15:</span> }</pre>
  </div>
</div>

<p>Para obtener la matriz de rotación (como veremos después) sólo necesitamos el acelerómetro y el sensor de campo magnético.</p>

<p>Un punto a tener en cuenta en este caso es la sincronización. Al código de la clase CompassRenderer van a acceder dos threads: el principal y thread de OpenGL. Las llamadas a los métodos de los sensores vendrán del primero, mientras que las llamadas a los métodos de renderización vendrán del segundo. Esto quiere decir que las variables miembro mAccelerometerValues y mMagneticValues serán asignadas en un thread y leídas en el otro, por lo que usamos un lock para evitar que se lean mientras se están asignando.</p>

<p><strong>Creación de la superficie OpenGL</strong></p>

<div id="codeSnippetWrapper">
  <div id="codeSnippet" style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;">
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum1" style="color:#606060;">   1:</span> <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">void</span> onSurfaceCreated(GL10 gl, EGLConfig config) {</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum2" style="color:#606060;">   2:</span>     <span style="color:#008000;">/*</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum3" style="color:#606060;">   3:</span> <span style="color:#008000;">     * By default, OpenGL enables features that improve quality</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum4" style="color:#606060;">   4:</span> <span style="color:#008000;">     * but reduce performance. One might want to tweak that</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum5" style="color:#606060;">   5:</span> <span style="color:#008000;">     * especially on software renderer.</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum6" style="color:#606060;">   6:</span> <span style="color:#008000;">     */</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum7" style="color:#606060;">   7:</span>     gl.glDisable(GL10.GL_DITHER);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum8" style="color:#606060;">   8:</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum9" style="color:#606060;">   9:</span>     <span style="color:#008000;">/*</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum10" style="color:#606060;">  10:</span> <span style="color:#008000;">     * Some one-time OpenGL initialization can be made here</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum11" style="color:#606060;">  11:</span> <span style="color:#008000;">     * probably based on features of this particular context</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum12" style="color:#606060;">  12:</span> <span style="color:#008000;">     */</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum13" style="color:#606060;">  13:</span>      gl.glHint(GL10.GL_PERSPECTIVE_CORRECTION_HINT,</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum14" style="color:#606060;">  14:</span>              GL10.GL_FASTEST);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum15" style="color:#606060;">  15:</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum16" style="color:#606060;">  16:</span>      gl.glClearColor(0,0,0,0);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum17" style="color:#606060;">  17:</span> }</pre>
  </div>
</div>

<p>Cuando el GLThread crea la superficie ejecuta el método onSurfaceCreated. Las líneas 7 y 13 son optimizaciones que le indican a OpenGL que optimice el rendimiento sobre la calidad de la imagen. La línea 16 establece los valores que se utilizarán para limpiar el buffer de color.</p>

<div id="codeSnippetWrapper">
  <div id="codeSnippet" style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;">
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum1" style="color:#606060;">   1:</span> <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">void</span> onSurfaceChanged(GL10 gl, <span style="color:#0000ff;">int</span> width, <span style="color:#0000ff;">int</span> height) {</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum2" style="color:#606060;">   2:</span>      gl.glViewport(0, 0, width, height);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum3" style="color:#606060;">   3:</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum4" style="color:#606060;">   4:</span>      <span style="color:#008000;">/*</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum5" style="color:#606060;">   5:</span> <span style="color:#008000;">      * Set our projection matrix. This doesn't have to be done</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum6" style="color:#606060;">   6:</span> <span style="color:#008000;">      * each time we draw, but usually a new projection needs to</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum7" style="color:#606060;">   7:</span> <span style="color:#008000;">      * be set when the viewport is resized.</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum8" style="color:#606060;">   8:</span> <span style="color:#008000;">      */</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum9" style="color:#606060;">   9:</span>      <span style="color:#0000ff;">float</span> ratio = (<span style="color:#0000ff;">float</span>) width / height;</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum10" style="color:#606060;">  10:</span>      gl.glMatrixMode(GL10.GL_PROJECTION);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum11" style="color:#606060;">  11:</span>      gl.glLoadIdentity();</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum12" style="color:#606060;">  12:</span>      gl.glFrustumf(-ratio, ratio, -1, 1, 1, 100);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum13" style="color:#606060;">  13:</span> }</pre>
  </div>
</div>

<p>El método onSurfaceChanged después de creada la superficie, y adicionalmente cada vez que esta cambia de tamaño. En la línea 2 establecemos el <em>viewport</em>. Básicamente le decimos a sistema que utilice todo el alto y ancho de la pantalla para pintar el modelo. Las líneas 9-12 inicializan la matriz de proyección y establece la región  que se va a visualizar (ver por ejemplo <a href="http://usuarios.lycos.es/andromeda_studios/paginas/tutoriales/aptutgl01.htm#Proyeccion">este tutorial</a>).</p>

<p><strong>Dibujo de la brújula</strong></p>

<p>Cada cuadro correspondiente a la animación de la brújula se dibuja en el método onDrawFrame:</p>

<div id="codeSnippetWrapper">
  <div id="codeSnippet" style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;">
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum1" style="color:#606060;">   1:</span> <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">void</span> onDrawFrame(GL10 gl) {</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum2" style="color:#606060;">   2:</span>     <span style="color:#008000;">// Get rotation matrix from the sensor</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum3" style="color:#606060;">   3:</span>     SensorManager.getRotationMatrix(rotationMatrix, null, mAccelerometerValues,</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;">                                          mMagneticValues);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum4" style="color:#606060;">   4:</span>     <span style="color:#008000;">// As the documentation says, we are using the device as a compass in landscape </span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span style="color:#008000;">          // mode</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum5" style="color:#606060;">   5:</span>     SensorManager.remapCoordinateSystem(rotationMatrix, SensorManager.AXIS_Y,</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;">                                              SensorManager.AXIS_MINUS_X,</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;">                                              remappedRotationMatrix);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum6" style="color:#606060;">   6:</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum7" style="color:#606060;">   7:</span>     <span style="color:#008000;">// Clear color buffer</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum8" style="color:#606060;">   8:</span>     gl.glClear(GL10.GL_COLOR_BUFFER_BIT);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum9" style="color:#606060;">   9:</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum10" style="color:#606060;">  10:</span>     <span style="color:#008000;">// Load remapped matrix</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum11" style="color:#606060;">  11:</span>     gl.glMatrixMode(GL10.GL_MODELVIEW);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum12" style="color:#606060;">  12:</span>     gl.glLoadIdentity();</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum13" style="color:#606060;">  13:</span>     gl.glLoadMatrixf(remappedRotationMatrix, 0);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum14" style="color:#606060;">  14:</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum15" style="color:#606060;">  15:</span>     gl.glEnableClientState(GL10.GL_VERTEX_ARRAY);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum16" style="color:#606060;">  16:</span>     gl.glEnableClientState(GL10.GL_COLOR_ARRAY);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum17" style="color:#606060;">  17:</span></pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:#f4f4f4;width:100%;"><span id="lnum18" style="color:#606060;">  18:</span>     mCompass.draw(gl);</pre>
    
    <pre style="text-align:left;line-height:12pt;background-color:white;width:100%;"><span id="lnum19" style="color:#606060;">  19:</span> }</pre>
  </div>
</div>

<p>En la línea 3 obtenemos la matriz de rotación a partir de los sensores. Como vamos a ver la imagen en formato horizontal giramos los ejes en la línea 5. Las líneas 11-13 cargan la matriz. Después habilitamos los arrays de vértices y colores en el cliente que como vimos usa la clase Compass, y finalmente llamamos al método de dibujo de la brújula (visto en la entrada anterior).</p>

<p>El código completo del proyecto está disponible aquí: <a href="http://code.google.com/p/ipoki/source/browse/#svn/trunk/ipoki/Android/ARCompass">ARCompass</a>.</p>


			<div class="blog-navigation">
				
					<a class="prev" href="/2009/08/10/realidad-aumentada-en-android-ar-compass-ii/">&laquo; Realidad aumentada en Android: AR Compass – II</a>
				
				
					<a class="next" href="/2009/08/23/nunca-se-sabe-cundo-vas-a-acabar-en-la-isla/">Nunca se sabe cuándo vas a acabar en la isla… &raquo;</a>
				
			</div>


			
		</div>
	</div>
</section>



		<footer>
			<div class="container">
				<p class="editor-link"><a href="cloudcannon:collections/_data/footer.yml" class="btn"><strong>&#9998;</strong> Edit footer</a></p>
				<ul class="footer-left-links">
					
						<li>
							<a  href="/" >
								
								Blog
							</a>
						</li>
					
						<li>
							<a  href="/archivo/" >
								
								Archivo
							</a>
						</li>
					
						<li>
							<a  href="/sobre-mi/" >
								
								Sobre mí
							</a>
						</li>
					
				</ul>
				<ul class="footer-right-links">
					
						<li>
							<a target="_blank" href="https://twitter.com/javier_cancela_" class="twitter-icon">
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z" /></svg>
	
								
							</a>
						</li>
					
						<li>
							<a target="_blank" href="https://www.linkedin.com/in/javiercancela" class="linkedin-icon">
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19,19H16V13.7A1.5,1.5 0 0,0 14.5,12.2A1.5,1.5 0 0,0 13,13.7V19H10V10H13V11.2C13.5,10.36 14.59,9.8 15.5,9.8A3.5,3.5 0 0,1 19,13.3M6.5,8.31C5.5,8.31 4.69,7.5 4.69,6.5A1.81,1.81 0 0,1 6.5,4.69C7.5,4.69 8.31,5.5 8.31,6.5A1.81,1.81 0 0,1 6.5,8.31M8,19H5V10H8M20,2H4C2.89,2 2,2.89 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" /></svg>
	
								
							</a>
						</li>
					
						<li>
							<a  href="/feed.xml" class="rss-icon">
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
	
								
							</a>
						</li>
					
				</ul>
				<p class="copyright">
					<a href="https://cloudcannon.com/">
						Template by CloudCannon
					</a>
				</p>
			</div>
		</footer>

		<script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script src="/js/main.js"></script>
		<script src="/js/prism.js"></script>
		<script id="dsq-count-scr" src="//javiercancela.disqus.com/count.js" async></script>
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
		<script type="text/javascript">
			MathJax.Hub.Config({
				config: ["MMLorHTML.js"],
				extensions: ["tex2jax.js"],
				jax: ["input/TeX"],
				displayAlign: "center",
				tex2jax: {
					inlineMath: [ ['$','$'], ["\\(","\\)"] ],
					displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
					processEscapes: false
				},
				TeX: {
					extensions: ["AMSmath.js", "AMSsymbols.js"],
					TagSide: "right",
					TagIndent: ".8em",
					MultLineWidth: "85%",
					equationNumbers: {
						autoNumber: "AMS",
					},
					unicode: {
						fonts: "STIXGeneral,'Arial Unicode MS'"
					}
				},
				showProcessingMessages: false
			});
		</script>		
	</body>
</html>
