<!DOCTYPE html>

<html lang="en">

<head>
    <script type="text/javascript">
        var host = "www.javiercancela.com";
        if ((host == window.location.host) && (window.location.protocol != "https:"))
            window.location.protocol = "https";
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Jekyll v4.2.0">

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300|Rubik:300">
    <link rel="stylesheet" href="/css/screen.css">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="theme-color" content="#ffffff"> <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Varios | Página de Javier Cancela</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="Varios" />
<meta name="author" content="Javier Cancela" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Algunas notas rápidas sobre Google Maps. Y sobre otras cosas." />
<meta property="og:description" content="Algunas notas rápidas sobre Google Maps. Y sobre otras cosas." />
<link rel="canonical" href="https://www.javiercancela.com/2018/03/12/varios/" />
<meta property="og:url" content="https://www.javiercancela.com/2018/03/12/varios/" />
<meta property="og:site_name" content="Página de Javier Cancela" />
<meta property="og:image" content="https://www.javiercancela.com/images/varios.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-03-12T21:00:00+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://www.javiercancela.com/images/varios.jpg" />
<meta property="twitter:title" content="Varios" />
<script type="application/ld+json">
{"@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://www.javiercancela.com/siteicon.png"},"name":"Javier Cancela"},"author":{"@type":"Person","name":"Javier Cancela"},"url":"https://www.javiercancela.com/2018/03/12/varios/","image":"https://www.javiercancela.com/images/varios.jpg","headline":"Varios","dateModified":"2018-03-12T21:00:00+01:00","datePublished":"2018-03-12T21:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.javiercancela.com/2018/03/12/varios/"},"description":"Algunas notas rápidas sobre Google Maps. Y sobre otras cosas.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
  <script>
    function initFingerprintJS() {
        FingerprintJS.load().then(fp => {
            // The FingerprintJS agent is ready.
            // Get a visitor identifier when you'd like to.
            fp.get().then(result => {
                // This is the visitor identifier:
                const visitorId = result.visitorId;


                (function(i, s, o, g, r, a, m) {
                    i['GoogleAnalyticsObject'] = r;
                    i[r] = i[r] || function() {
                        (i[r].q = i[r].q || []).push(arguments)
                    }, i[r].l = 1 * new Date();
                    a = s.createElement(o),
                        m = s.getElementsByTagName(o)[0];
                    a.async = 1;
                    a.src = g;
                    m.parentNode.insertBefore(a, m)
                })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

                ga('create', 'UA-58458863-1', {
                    'storage': 'none',
                    'clientId': visitorId
                });
                ga('set', 'anonymizeIp', true);
                ga('send', 'pageview');
            });
        });
    }
</script>
<script async src="//cdn.jsdelivr.net/npm/@fingerprintjs/fingerprintjs@3/dist/fp.min.js" onload="initFingerprintJS()"></script> 
</head>

<body>
    <header id="mainHeader">
        <div class="container">
            <div class="company-name">
                <a href="/">
                    <span class="dark-logo"><img width="104" height="38" src="/images/logo/dark.png" alt="dark frisco logo"></span>
                    <span class="light-logo"><img width="104" height="38" src="/images/logo/light.png" alt="light frisco logo"></span>
                </a>
            </div>
            <nav>
	<a class="nav-toggle" id="open-nav" href="#">&#9776;</a>
	
		
		

		
		<a href="/" class="" >Blog</a>
	
		
		

		
		<a href="/archivo/" class="" >Archivo</a>
	
		
		

		
		<a href="/sobre-mi/" class="" >Sobre mí</a>
	
</nav>

        </div>
    </header>

    <section class="hero" style="background-image: url(/images/varios.jpg)">
	<div class="inner-hero text-container">
		<div class="hero-text-container">
			<h1>Varios</h1>
			<p class="subtext"></p>
		</div>
	</div>
</section>

<section>
    <div class="blog-post text-container">
        <p class="post-details">
	
		
		<span class="blog-filter">
			<a href="/category/varios/">Varios</a>
		</span>
	
	
	
	
	
	
	
	<span class="post-date">12 de marzo de 2018</span>
</p>


        <div class="post-content">
            <p>Algunas notas rápidas sobre Google Maps. Y sobre otras cosas.</p>

<h2 id="api-de-google-maps">API de Google Maps</h2>

<p>Una de las cosas que te da la experiencia es una cierta intuición sobre cómo de difícil es hacer algo que no hayas hecho nunca antes. Y resulta muy molesto cuando esa intuición falla.</p>

<p>Necesitaba una prueba de concepto de una animación del mapa del mundo con javascript. Mi idea era hacerlo con la api de Google Maps, que sólo he utilizado para cosas muy básicas. El planteamiento era el siguiente: una animación de la tierra tal como se ve en Google Earth, que muestre, por ejemplo, Europa con unos indicadores encima; pasado un tiempo la animación hace zoom sobre una ciudad mostrando otros indicadores, tras lo cual se aleja para cambiar de continente y bla bla bla. <em>Piece of cake</em>, que dicen los ingleses.</p>

<p>Empiezo a buscar y me encuentro con que <a href="https://developers.google.com/earth/">la api de Google Earth ya no está soportada</a> (ups!), pero Google Maps tiene un modo 3D nativo que imita el efecto (¡bien!). Así que cojo mi <a href="https://developers.google.com/maps/documentation/javascript/get-api-key"><em>key</em> de Google Maps</a> y empiezo a probar. “No debería llevar más de media hora”, me digo.</p>

<div style="text-align:center">
    <figure>
        <img alt="El mundo según Google Maps. Pero no según su API" src="/images/google-earth.jpg" />
        <figcaption>El mundo según Google Maps. Pero no según su API</figcaption>
    </figure>
</div>

<p>Pues no se puede. Resulta que el modo 3D de Google Maps no está soportado en mapas embebidos dentro de aplicaciones. Y tampoco es fácil verlo, porque no he encontrado referencias a ello en la docuemtación. Probablemente se pueda en alguna versión futura, pero de momento no.</p>

<p>De hecho, la versión para incrustar está aún más limitada. Después de asumir que no iba a mostrar el mapa del mundo, me puse a jugar con las animaciones en 2D, buscando transiciones entre puntos y niveles de zoom lo más fluidas posible. Lo que descubrí fue que no es posible hacerlas tan fluidas como las que se ven en la página de Google Maps. La única explicación que encontré al respecto es <a href="http://stackoverflow.com/a/34154254">esta respuesta stackoverflow</a>. La web de Google Maps utiliza un objeto <em>canvas</em> para pintar una versión vectorizada del mapa, mientras que la API trae un conjunto de imágenes para cada nivel de zoom. No sé si es correcto, pero es consistente con lo que se observa en las pruebas.</p>

<p>Hay alternativas a la API de Google Maps: <a href="https://www.mapbox.com/mapbox-gl-js/api/">mapbox</a> (de pago) o  <a href="https://cesiumjs.org/">cesiumjs</a> (gratuita). Esta última tiene varios orígenes de datos cartográficos posibles, entre ellos los mapas de Bing (Microsoft).</p>

<div style="text-align:center">
    <figure>
        <img alt="El mundo visto a través de Cesium y Bing" src="/images/cesiumjs.jpg" />
        <figcaption>El mundo visto a través de Cesium y Bing</figcaption>
    </figure>
</div>


            <div class="blog-navigation">
                
                <a class="prev" href="/2018/03/12/deep-learning-01/">&laquo; Deep learning - Introducción</a>  
            </div>
        </div>
    </div>
</section>


    <footer>
        <div class="container">
            <p class="editor-link"><a href="cloudcannon:collections/_data/footer.yml" class="btn"><strong>&#9998;</strong> Edit footer</a></p>
            <ul class="footer-right-links">
                
                <li>
                    <a target="_blank"  href="https://twitter.com/javier_cancela_" class="twitter-icon" >
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z" /></svg>
	
								
							</a>
                </li>
                
                <li>
                    <a target="_blank"  href="https://www.linkedin.com/in/javiercancela" class="linkedin-icon" >
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19,19H16V13.7A1.5,1.5 0 0,0 14.5,12.2A1.5,1.5 0 0,0 13,13.7V19H10V10H13V11.2C13.5,10.36 14.59,9.8 15.5,9.8A3.5,3.5 0 0,1 19,13.3M6.5,8.31C5.5,8.31 4.69,7.5 4.69,6.5A1.81,1.81 0 0,1 6.5,4.69C7.5,4.69 8.31,5.5 8.31,6.5A1.81,1.81 0 0,1 6.5,8.31M8,19H5V10H8M20,2H4C2.89,2 2,2.89 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" /></svg>
	
								
							</a>
                </li>
                
                <li>
                    <a  href="/feed.xml" class="rss-icon" >
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
	
								
							</a>
                </li>
                
            </ul>
            <p class="copyright">
                <a href="https://cloudcannon.com/">
						Template by CloudCannon
					</a>
            </p>
        </div>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
    <script src="/js/main.js"></script>
    <script src="/js/prism.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript">
        MathJax.Hub.Config({
            config: ["MMLorHTML.js"],
            extensions: ["tex2jax.js"],
            jax: ["input/TeX"],
            displayAlign: "center",
            tex2jax: {
                inlineMath: [
                    ['$', '$'],
                    ["\\(", "\\)"]
                ],
                displayMath: [
                    ['$$', '$$'],
                    ["\\[", "\\]"]
                ],
                processEscapes: false
            },
            TeX: {
                extensions: ["AMSmath.js", "AMSsymbols.js"],
                TagSide: "right",
                TagIndent: ".8em",
                MultLineWidth: "85%",
                equationNumbers: {
                    autoNumber: "AMS",
                },
                unicode: {
                    fonts: "STIXGeneral,'Arial Unicode MS'"
                }
            },
            showProcessingMessages: false
        });
    </script>
</body>

</html>