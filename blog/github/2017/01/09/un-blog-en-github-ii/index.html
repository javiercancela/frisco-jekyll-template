<!DOCTYPE html>

<html lang="en">
	<head>
		<script type="text/javascript">
		    var host = "www.javiercancela.com";
		    if ((host == window.location.host) && (window.location.protocol != "https:"))
		        window.location.protocol = "https";
		</script>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="generator" content="Jekyll v3.3.1">

		<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300|Rubik:300">
		<link rel="stylesheet" href="/css/screen.css">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="/manifest.json">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="theme-color" content="#ffffff">

		<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>Un blog en GitHub (II - Estructura del sitio) - Página de Javier Cancela</title>
<meta property="og:title" content="Un blog en GitHub (II - Estructura del sitio)" />
<meta name="description" content="La experiencia de montar un blog en GitHub" />
<meta property="og:description" content="La experiencia de montar un blog en GitHub" />
<link rel="canonical" href="https://www.javiercancela.com/blog/github/2017/01/09/un-blog-en-github-ii/" />
<meta property="og:url" content="https://www.javiercancela.com/blog/github/2017/01/09/un-blog-en-github-ii/" />
<meta property="og:site_name" content="Página de Javier Cancela" />
<meta property="og:image" content="https://source.unsplash.com/V4EOZj7g1gw/2000x1322" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-01-09T01:00:00+00:00" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "Un blog en GitHub (II - Estructura del sitio)",
"image": "https://source.unsplash.com/V4EOZj7g1gw/2000x1322",
"datePublished": "2017-01-09T01:00:00+00:00",
"description": "La experiencia de montar un blog en GitHub",
"publisher": {"@type": "Organization",
"logo": {"@type": "ImageObject",
"url": "https://www.javiercancela.com/siteicon.png"}},
"url": "https://www.javiercancela.com/blog/github/2017/01/09/un-blog-en-github-ii/"}</script>
<!-- End Jekyll SEO tag -->

		<link type="application/atom+xml" rel="alternate" href="https://www.javiercancela.com/feed.xml" title="Página de Javier Cancela" />

		
	</head>

	<body>
		<header id="mainHeader">
			<div class="container">
				<div class="company-name">
					<a href="/">
						<span class="dark-logo"><img width="104" height="38" src="/images/logo/dark.png" alt="dark frisco logo"></span>
						<span class="light-logo"><img width="104" height="38" src="/images/logo/light.png" alt="light frisco logo"></span>
					</a>
				</div>
				<nav>
	<a class="nav-toggle" id="open-nav" href="#">&#9776;</a>
	
		
		

		
		<a href="/" class="" >Blog</a>
	
		
		

		
		<a href="/sobre-mi/" class="" >Sobre mí</a>
	
</nav>

			</div>
		</header>

		<section class="hero" style="background-image: url(https://source.unsplash.com/V4EOZj7g1gw/2000x1322)">
	<div class="inner-hero text-container">
		<div class="hero-text-container">
			<h1>Un blog en GitHub (II - Estructura del sitio)</h1>
			<p class="subtext">La experiencia de montar un blog en GitHub</p>
		</div>
	</div>
</section>

<section>
	<div class="blog-post text-container">
		<p class="post-details">
	
		<span class="blog-filter">
			<a href="/category/blog/">Blog</a>
		</span>
	
		<span class="blog-filter">
			<a href="/category/github/">Github</a>
		</span>
	
	
	
	
	
	
	
	<span class="post-date">09 de enero de 2017</span>
</p>


		<div class="post-content">
			<p>La forma más eficiente de montar un blog con Jekyll consiste en descargarse una plantilla y modificarla según nuestras necesidades. La página <a href="http://jekyll.tips/templates/">Jekyll Tips</a> tiene varias plantillas para elegir. Yo me decanté por <a href="https://github.com/CloudCannon/frisco-jekyll-template">Frisco</a>.</p>

<p>Para instalar la plantilla basta con hacer un fork del repositorio, y renombrarlo como nombreusuario.github.io. Sin hacer nada más tendremos un sitio de ejemplo instalado en nuestra página (http://nombreusuario.github.io).</p>

<p>La página de este blog es <a href="http://javiercancela.github.io">http://javiercancela.github.io</a>, y el repositorio es <a href="https://github.com/javiercancela/javiercancela.github.io">https://github.com/javiercancela/javiercancela.github.io</a>, donde se puede encontrar todo el código al que me refiero más abajo.</p>

<p>Como esta plantilla está pensada como página corporativa, lo primero que hice fue eliminar todo salvo el blog (que pasé al raíz de la web). Después añadí una página “Sobre mí” usando el html de la página raíz original. Para estos cambios sólo hizo falta mover los archivos de sitio, cambiar alguna ruta relativa y actualizar el menú y el pie de página (los archivos footer.yml y navigatio.yml de la carpeta _data). En el footer actualicé también los enlaces de las redes sociales. Tampoco hay que olvidarse de actualizar los datos del _config.yml.</p>

<h2 id="front-matter">Front matter</h2>
<p>Los archivos html y md (Markdown) de los sitios creados en Jekyll suelen comenzar por una sección delimitada por tres guiones. Algo así:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>---
title: Blog
layout: default
description: El blog de Javier Cancela.
image: https://source.unsplash.com/EZSm8xRjnX0/2000x1322
---
</code></pre>
</div>

<p>El propósito de esta cabecera, llamada en inglés <em>front matter</em>, es definir valores y metadatos para su archivo. El ejemplo de arriba está sacado del archivo <code class="highlighter-rouge">index.html</code> de la raíz de la página. Ese archivo contiene únicamente un par de elementos <code class="highlighter-rouge">&lt;section&gt;</code> con el html específico de la pantalla de inicio. El resto del html es compartido con más páginas y está en <code class="highlighter-rouge">_layouts\default.html</code> para ser reutilizado fácilmente (los archivos <em>layout</em> contienen un elemento <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">content</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> que se sustituye por el contenido del archivo al que se aplica el <em>layout</em>). Así, la línea</p>
<div class="highlighter-rouge"><pre class="highlight"><code>layout: default
</code></pre>
</div>
<p>del <em>front matter</em> es un metadato de la página. Y la línea</p>
<div class="highlighter-rouge"><pre class="highlight"><code>image: https://source.unsplash.com/EZSm8xRjnX0/2000x1322
</code></pre>
</div>
<p>es una variable, que permite que dentro del html de la página accedamos a esa url con <code class="highlighter-rouge">page.image</code>.</p>

<p>Para no tener que indicar el <em>layout</em> en cada página, podemos definir en el archivo <code class="highlighter-rouge">_config.yml</code> el layout por defecto, así como <em>layouts</em> específicos para tipos de archivos o para ciertas rutas:</p>
<div class="highlighter-rouge"><pre class="highlight"><code>defaults:
  -
    scope:
      path: ""
    values:
      layout: "default"
  -
    scope:
      type: "posts"
    values:
      layout: "post"
</code></pre>
</div>

<h2 id="includes">Includes</h2>
<p>El <em>layout</em> nos sirve para compartir una estructura html común entre páginas. Pero a veces necesitamos reutilizar pequeños trozos de código en distintas partes de nuestra web. En estos casos utilizamos la carpeta <code class="highlighter-rouge">_includes</code>, donde guardaremos el código a reutilizar en archivos html. Veamos un ejemplo.</p>

<p>El <em>layout</em> para los archivos de tipo post de este sitio (los incluidos en la carpeta <code class="highlighter-rouge">_posts</code>) es <code class="highlighter-rouge">_layouts\post.html</code>. Este archivo (que usa a su vez otro <em>layout</em>, no hay problema en encadenarlos) contiene la siguiente línea:</p>
<div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">include</span><span class="w"> </span><span class="err">post-title.html</span><span class="w"> </span><span class="err">post=page</span><span class="w"> </span><span class="err">%</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>
<p>Esta línea nos dice que en ese punto del archivo se va a insertar el código incluido en <code class="highlighter-rouge">_includes\post-title.html</code>, y se le va a pasar la propiedad <code class="highlighter-rouge">page</code> en la variable <code class="highlighter-rouge">post</code>. La propiedad <code class="highlighter-rouge">page</code> nos da acceso a las variables definidas en el <em>front matter</em>, así como a otras propiedades como la url de la página. Al pasarla al <em>include</em> conseguimos que estas propiedades también estén disponibles allí.</p>

<p>El archivo <code class="highlighter-rouge">_includes\post-title.html</code> contiene este código:</p>
<div class="language-html highlighter-rouge"><pre class="highlight"><code>
<span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"post-details"</span><span class="nt">&gt;</span>
    {% for category in include.post.categories %}
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"blog-filter"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"{{ site.baseurl }}/category/{{ category}}/"</span><span class="nt">&gt;</span>{{ category | capitalize }}<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;/span&gt;</span>
    {% endfor %}
    {% if post.date %}
        {% assign postdate = post.date %}
    {% else %}  
        {% assign postdate = page.date %}
    {% endif %}
    {% assign months = "enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre" | split: "|" %}
    {% assign m = postdate | date: "%-m" | minus: 1 %}
    {% assign day = postdate | date: "%d" %}
    {% assign month = months[m] %}
    {% assign year = postdate | date: "%Y" %}
    <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"post-date"</span><span class="nt">&gt;</span>{{ day }} de {{ month }} de {{ year }}<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>

</code></pre>
</div>
<p>Las partes rodeadas de <code class="highlighter-rouge"><span class="p">{</span><span class="err">%</span><span class="w"> </span><span class="err">y</span><span class="w"> </span><span class="err">%</span><span class="p">}</span></code> son código <a href="http://shopify.github.io/liquid/">Liquid</a>, un lenguaje de plantillas usado en Jekyll para generar html estático de forma simple.</p>

<p>En el código vemos como se recorren los valores de <code class="highlighter-rouge">include.post.categories</code>. <code class="highlighter-rouge">include.post</code> nos da acceso a la variable <code class="highlighter-rouge">post</code> a la que hacíamos referencia más arriba, correspondiente a la propiedad <code class="highlighter-rouge">page</code> de la página donde se va a incluir el código. <code class="highlighter-rouge">categories</code> es una propiedad añadida por el <em>plugin</em> <a href="https://github.com/jekyll/jekyll-archives">jekyll-archives</a>, y nos da acceso a las categorías que hayamos asignado al post en su <em>front matter</em>. Con ellas se crea un enlace para ver todos los posts de cada categoría.</p>

<p>El resto del código crea la fecha del post. El código está adaptado de esta <a href="http://stackoverflow.com/a/32914455">respuesta de StackOverflow</a>.</p>

<p>Con esto ya estamos listos para empezar a escribir el blog.</p>


			<div class="blog-navigation">
				
					<a class="prev" href="/blog/github/2017/01/03/un-blog-en-github-i/">&laquo; Un blog en GitHub (I - Jekyll)</a>
				
				
			</div>


			
				<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
    
    var disqus_config = function () {
        this.page.url = "http://www.javiercancela.com/blog/github/2017/01/09/un-blog-en-github-ii/";  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = "/blog/github/2017/01/09/un-blog-en-github-ii"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    
    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//javiercancela.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
			
		</div>
	</div>
</section>



		<footer>
			<div class="container">
				<p class="editor-link"><a href="cloudcannon:collections/_data/footer.yml" class="btn"><strong>&#9998;</strong> Edit footer</a></p>
				<ul class="footer-left-links">
					
						<li>
							<a  href="/" >
								
								Blog
							</a>
						</li>
					
						<li>
							<a  href="/sobre-mi/" >
								
								Sobre mí
							</a>
						</li>
					
				</ul>
				<ul class="footer-right-links">
					
						<li>
							<a target="_blank" href="https://twitter.com/jcanvic" class="twitter-icon">
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z" /></svg>
	
								
							</a>
						</li>
					
						<li>
							<a target="_blank" href="https://www.linkedin.com/in/javiercancela" class="linkedin-icon">
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19,19H16V13.7A1.5,1.5 0 0,0 14.5,12.2A1.5,1.5 0 0,0 13,13.7V19H10V10H13V11.2C13.5,10.36 14.59,9.8 15.5,9.8A3.5,3.5 0 0,1 19,13.3M6.5,8.31C5.5,8.31 4.69,7.5 4.69,6.5A1.81,1.81 0 0,1 6.5,4.69C7.5,4.69 8.31,5.5 8.31,6.5A1.81,1.81 0 0,1 6.5,8.31M8,19H5V10H8M20,2H4C2.89,2 2,2.89 2,4V20A2,2 0 0,0 4,22H20A2,2 0 0,0 22,20V4C22,2.89 21.1,2 20,2Z" /></svg>
	
								
							</a>
						</li>
					
						<li>
							<a target="_blank" href="https://plus.google.com/+JavierCancelaVicente" class="google-plus-icon">
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M23,11H21V9H19V11H17V13H19V15H21V13H23M8,11V13.4H12C11.8,14.4 10.8,16.4 8,16.4C5.6,16.4 3.7,14.4 3.7,12C3.7,9.6 5.6,7.6 8,7.6C9.4,7.6 10.3,8.2 10.8,8.7L12.7,6.9C11.5,5.7 9.9,5 8,5C4.1,5 1,8.1 1,12C1,15.9 4.1,19 8,19C12,19 14.7,16.2 14.7,12.2C14.7,11.7 14.7,11.4 14.6,11H8Z" /></svg>
	
								
							</a>
						</li>
					
						<li>
							<a  href="/feed.xml" class="rss-icon">
								
		<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><circle cx="6.18" cy="17.82" r="2.18"/><path d="M4 4.44v2.83c7.03 0 12.73 5.7 12.73 12.73h2.83c0-8.59-6.97-15.56-15.56-15.56zm0 5.66v2.83c3.9 0 7.07 3.17 7.07 7.07h2.83c0-5.47-4.43-9.9-9.9-9.9z"/></svg>
	
								
							</a>
						</li>
					
				</ul>
				<p class="copyright">
					<a href="https://cloudcannon.com/">
						Template by CloudCannon
					</a>
				</p>
			</div>
		</footer>

		<script src="//ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
		<script src="/js/main.js"></script>
		<script id="dsq-count-scr" src="//javiercancela.disqus.com/count.js" async></script>
		<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
	</body>
</html>
