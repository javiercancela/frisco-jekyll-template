<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xml" href="https://www.javiercancela.com/feed.xslt.xml"?><feed xmlns="http://www.w3.org/2005/Atom"><generator uri="http://jekyllrb.com" version="3.3.1">Jekyll</generator><link href="https://www.javiercancela.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://www.javiercancela.com/" rel="alternate" type="text/html" /><updated>2017-03-20T14:31:07+00:00</updated><id>https://www.javiercancela.com//</id><title type="html">Página de Javier Cancela</title><subtitle>Página personal de Javier Cancela</subtitle><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><entry><title type="html">Machine Learning con Python - Tema 2 - El perceptrón</title><link href="https://www.javiercancela.com/2017/03/19/python-machine-learning-ii/" rel="alternate" type="text/html" title="Machine Learning con Python - Tema 2 - El perceptrón" /><published>2017-03-19T01:00:00+00:00</published><updated>2017-03-19T01:00:00+00:00</updated><id>https://www.javiercancela.com/2017/03/19/python-machine-learning-ii</id><content type="html" xml:base="https://www.javiercancela.com/2017/03/19/python-machine-learning-ii/">&lt;p&gt;Empezamos con los algoritmos. Vamos a implementar un perceptrón en Python, y entrenarlo para que sepa clasificar las diferentes especies de flores en Iris. El libro comienza mostrando el &lt;a href=&quot;https://es.wikipedia.org/wiki/Neurona_de_McCulloch-Pitts&quot;&gt;modelo de neurona de McCulloch-Pitts&lt;/a&gt;:&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;En este modelo se emite una señal de salida si el resultado de aplicar una función a la suma de las entradas supera cierto umbral&quot; src=&quot;https://raw.githubusercontent.com/rasbt/python-machine-learning-book/master/code/ch02/images/02_01.png&quot; /&gt;
        &lt;figcaption&gt;En este modelo se emite una señal de salida si el resultado de aplicar una función a la suma de las entradas supera cierto umbral&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Tomando este modelo como base, Frank Rosenblatt diseñó un dispositivo electrónico con capacidad para aprender. El algoritmo usado por ese dispositivo se conoce como Perceptrón.&lt;/p&gt;

&lt;h2 id=&quot;perceptrón&quot;&gt;Perceptrón&lt;/h2&gt;

&lt;p&gt;El &lt;a href=&quot;https://es.wikipedia.org/wiki/Perceptr%C3%B3n&quot;&gt;perceptrón&lt;/a&gt; es un algoritmo de aprendizaje supervisado para realizar tareas de clasificación binaria, es decir, para determinar si una muestra pertenece o no a una clase.&lt;/p&gt;

&lt;div style=&quot;background-color: #EEEEEE; padding: 1em&quot;&gt;
El libro asume cierta familiaridad trabajando con vectores y matrices. Para refrescar conceptos recomiendo revisar los &lt;a href=&quot;https://es.wikipedia.org/wiki/%C3%81lgebra_lineal#Enlaces_externos&quot;&gt;enlaces externos referenciados en la página de la Wikipedia dedicada al Álgebra Lineal&lt;/a&gt;. También tiene buena pinta [el curso de la Khan Academy](https://es.khanacademy.org/math/linear-algebra). &lt;br /&gt;
En inglés hay varios libros gratuitos disponibles, como [este](https://www.math.ucdavis.edu/~linear/linear-guest.pdf) y [este](http://www.cs.cmu.edu/~zkolter/course/linalg/linalg_notes.pdf).
&lt;/div&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;a href=&quot;https://commons.wikimedia.org/wiki/File:Perceptr%C3%B3n_5_unidades.svg#/media/File:Perceptr%C3%B3n_5_unidades.svg&quot;&gt;&lt;img src=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/b/b0/Perceptr%C3%B3n_5_unidades.svg/1200px-Perceptr%C3%B3n_5_unidades.svg.png&quot; alt=&quot;Perceptrón 5 unidades.svg&quot; /&gt;&lt;/a&gt;
        &lt;figcaption&gt;
            De &lt;a href=&quot;//commons.wikimedia.org/w/index.php?title=User:Alejandro.cartas&amp;amp;action=edit&amp;amp;redlink=1&quot; class=&quot;new&quot; title=&quot;User:Alejandro.cartas (page does not exist)&quot;&gt;Alejandro Cartas&lt;/a&gt; - &lt;span class=&quot;int-own-work&quot; lang=&quot;es&quot;&gt;Trabajo propio&lt;/span&gt;, &lt;a href=&quot;http://creativecommons.org/licenses/by-sa/4.0&quot; title=&quot;Creative Commons Attribution-Share Alike 4.0&quot;&gt;CC BY-SA 4.0&lt;/a&gt;, &lt;a href=&quot;https://commons.wikimedia.org/w/index.php?curid=41534843&quot;&gt;Enlace&lt;/a&gt;
        &lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Como podemos ver en la figura anterior, la señal de entrada está compuesta por un array &lt;script type=&quot;math/tex&quot;&gt;\bf x&lt;/script&gt; al que se aplica una serie de pesos definidos por un array &lt;script type=&quot;math/tex&quot;&gt;\bf w&lt;/script&gt;. Es decir, cada elemento &lt;script type=&quot;math/tex&quot;&gt;x_i&lt;/script&gt; se multiplica por &lt;script type=&quot;math/tex&quot;&gt;w_i&lt;/script&gt;, y se suma el resultado de cada uno de estos productos. De una manera más formal, definimos&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;x = \begin{bmatrix}
x_1 \cr
\vdots \cr
x_m \cr
\end{bmatrix}, w = \begin{bmatrix}
w_1 \cr
\vdots \cr
w_m \cr
\end{bmatrix}
\tag{2.1}&lt;/script&gt;

&lt;p&gt;Y la entrada resultante &lt;script type=&quot;math/tex&quot;&gt;z&lt;/script&gt; será la suma de cada entrada ponderada:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;z = \sum{w_ix_i} = w_1x_1 + \cdots + w_mx_m
\tag{2.2}&lt;/script&gt;

&lt;p&gt;Ya tenemos la entrada &lt;script type=&quot;math/tex&quot;&gt;z&lt;/script&gt; a la función de activación &lt;script type=&quot;math/tex&quot;&gt;\phi(z)&lt;/script&gt;. Para nuestro caso vamos a usar como función de activación la &lt;a href=&quot;https://es.wikipedia.org/wiki/Funci%C3%B3n_escal%C3%B3n_de_Heaviside&quot;&gt;función escalón&lt;/a&gt;. Esta función se define de la siguiente forma:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\phi(z) = \begin{cases}
\text{1 si } z \ge \theta \cr
\text{-1 en otro caso}
\end{cases}
\tag{2.3}&lt;/script&gt;

&lt;p&gt;Ese valor &lt;script type=&quot;math/tex&quot;&gt;\theta&lt;/script&gt; es el umbral que tiene que superar &lt;script type=&quot;math/tex&quot;&gt;z&lt;/script&gt; para disparar la señal. Para simplificar los cálculos, definimos un peso 0 con &lt;script type=&quot;math/tex&quot;&gt;w_0 = -\theta&lt;/script&gt; y &lt;script type=&quot;math/tex&quot;&gt;x_0 = 1&lt;/script&gt;, de esta forma podemos escribir:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;z = w_0x_0 + w_1x_1 + \cdots + w_mx_m
\tag{2.4}
\label{2.4}&lt;/script&gt;

&lt;p&gt;y&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\phi(z) = \begin{cases}
\text{1 si } z \ge 0 \cr
\text{-1 en otro caso}
\end{cases}
\tag{2.5}
\label{2.5}&lt;/script&gt;

&lt;p&gt;El valor de &lt;script type=&quot;math/tex&quot;&gt;z&lt;/script&gt; se puede escribir también como &lt;script type=&quot;math/tex&quot;&gt;z = \mathbf{w}^T\bf x&lt;/script&gt;. El superíndice T indica que la matriz (en este caso un array, que tratamos como una matriz de 1 columna y n filas) está traspuesta, o lo que es lo mismo, se han convertidos sus columnas en filas. Por lo tanto:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\mathbf{w}^T\bf x = \begin{bmatrix} w_0 &amp; w_1 &amp; \cdots &amp; w_m \end{bmatrix} \begin{bmatrix}
x_1 \cr
\vdots \cr
x_m \cr
\end{bmatrix}

\tag{2.6} %]]&gt;&lt;/script&gt;

&lt;p&gt;Esto nos permite usar la operación de producto escalar entre matrices. En una operación entre matrices, si la primera tiene dimensiones &lt;script type=&quot;math/tex&quot;&gt;n \times m&lt;/script&gt;, la segunda debe tener &lt;script type=&quot;math/tex&quot;&gt;m \times p&lt;/script&gt;, dando como resultado una matriz &lt;script type=&quot;math/tex&quot;&gt;n \times p&lt;/script&gt;. En nuestro caso, la dimensiones serían &lt;script type=&quot;math/tex&quot;&gt;1 \times n&lt;/script&gt; y &lt;script type=&quot;math/tex&quot;&gt;n \times 1&lt;/script&gt;, dando como resultado una matriz &lt;script type=&quot;math/tex&quot;&gt;1 \times 1&lt;/script&gt;, es decir, un escalar. Por ello esta operación es realmente un producto escalar entre vectores, cuyo resultado es la ya conocida expresión \eqref{2.4}&lt;/p&gt;

&lt;h2 id=&quot;entrenando-el-modelo&quot;&gt;Entrenando el modelo&lt;/h2&gt;

&lt;p&gt;Pretendemos modificar los valores de los pesos (&lt;script type=&quot;math/tex&quot;&gt;\mathbf{w}&lt;/script&gt;) de forma que las salidas del preceptrón se vayan acercando a los valores esperados. Para ello se inicializan los pesos a cero, o a un valor muy pequeño, se obtiene la salida, y se actualizan los pesos.&lt;/p&gt;

&lt;p&gt;¿Cómo se actualizan los pesos? Sumándoles una cantidad (positiva o negativa) que depende de la entrada, de la diferencia entre la salida real y la salida esperada, y de la tasa de aprendizaje (&lt;script type=&quot;math/tex&quot;&gt;\eta&lt;/script&gt;), que es una constante que vale entre 0 y 1:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta w_j = \eta(y^{(i)} - \hat y^{(i)})x_j^{(i)}
\tag{2.7}&lt;/script&gt;

&lt;p&gt;En esta fórmula &lt;script type=&quot;math/tex&quot;&gt;y^{(i)}&lt;/script&gt; es la clase a la que pertenece la muestra (i), &lt;script type=&quot;math/tex&quot;&gt;\hat y^{(i)}&lt;/script&gt; es la clase predicha por el perceptrón, y &lt;script type=&quot;math/tex&quot;&gt;x_j^{(i)}&lt;/script&gt; es la entrada de la característica j para la muestra (i). Todo esto se multiplica para calcular la variación en la característica j: &lt;script type=&quot;math/tex&quot;&gt;\Delta w_j&lt;/script&gt;. Con cada muestra se recalculan los pesos:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;w_j := w_j + \Delta w_j
\tag{2.8}&lt;/script&gt;

&lt;h3 id=&quot;condiciones-de-convergencia&quot;&gt;Condiciones de convergencia&lt;/h3&gt;

&lt;p&gt;Este proceso iterativo puede converger o no. Para que el perceptrón clasifique correctamente las muestras , el valor de &lt;script type=&quot;math/tex&quot;&gt;w_j&lt;/script&gt; debe ir acercándose cada vez más a un valor final, o lo que es lo mismo, &lt;script type=&quot;math/tex&quot;&gt;\Delta w_j&lt;/script&gt; debe tender a cero.&lt;/p&gt;

&lt;p&gt;Para que se de esta situación deben cumplirse dos requisitos. En primer lugar, la tasa de aprendizaje debe ser suficientemente pequeña. En general, cuanto más grande sea &lt;script type=&quot;math/tex&quot;&gt;\eta&lt;/script&gt; más rápido será el aprendizaje, pero pasado cierto valor el proceso de aprendizaje nunca convergerá. En segundo lugar, las dos clases deben ser linealmente separables. Es decir, si representamos los elementos de ambas clases en un diagrama de 2 dimensiones (suponeniendo que las muestras tienen dos características), debe existir una línea que separe a todos los de una clase a un lado, y a todos los de la otra clase al otro lado.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Ejemplos con muestras de dos clases. Sólo el primero es linearmente separable.&quot; src=&quot;https://raw.githubusercontent.com/rasbt/python-machine-learning-book/master/code/ch02/images/02_03.png&quot; /&gt;
        &lt;figcaption&gt;Ejemplos con muestras de dos clases. Sólo el primero es linearmente separable.&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;h2 id=&quot;perceptrón-en-python&quot;&gt;Perceptrón en Python&lt;/h2&gt;

&lt;p&gt;El código del capítulo 2 (y de los demás capítulos) está, como comentamos, &lt;a href=&quot;https://github.com/rasbt/python-machine-learning-book/blob/master/code/ch02/ch02.ipynb&quot;&gt;subido a GitHub&lt;/a&gt; en formato &lt;a href=&quot;http://jupyter.org/&quot;&gt;Jupyter&lt;/a&gt;. Jupyter (originalmente iPython) es una aplicación web que permite crear y compartir documentos que contengan código, gráficas, animaciones… de un forma muy sencilla. Jupyter viene incluido en Anaconda, que es el entorno Python que recomendamos en &lt;a href=&quot;/2017/03/12/python-machine-learning-i/&quot;&gt;una entrada anterior&lt;/a&gt;. También se puede ver el código completo de cada capítulo como archivo Python &lt;a href=&quot;https://github.com/rasbt/python-machine-learning-book/tree/master/code/optional-py-scripts&quot;&gt;aquí&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;El código comienza declarando una clase &lt;code class=&quot;highlighter-rouge&quot;&gt;Perceptron&lt;/code&gt; en la que se definen en constructor y tres métodos:&lt;/p&gt;
&lt;pre class=&quot;line-numbers&quot;&gt;
  &lt;code class=&quot;language-python&quot;&gt;
    import numpy as np

    class Perceptron(object):
      def __init__(self, eta=0.01, n_iter=10):
        self.eta = eta
        self.n_iter = n_iter

      def fit(self, X, y):
        self.w_ = np.zeros(1 + X.shape[1])
        self.errors_ = []

        for _ in range(self.n_iter):
          errors = 0
          for xi, target in zip(X, y):
            update = self.eta * (target - self.predict(xi))
            self.w_[1:] += update * xi
            self.w_[0] += update
            errors += int(update != 0.0)
          self.errors_.append(errors)
        return self

      def net_input(self, X):
        return np.dot(X, self.w_[1:]) + self.w_[0]

      def predict(self, X):
        return np.where(self.net_input(X) &amp;gt;= 0.0, 1, -1)
  &lt;/code&gt;
&lt;/pre&gt;

&lt;p&gt;Inicializamos el perceptrón con dos parámetros: &lt;code class=&quot;highlighter-rouge&quot;&gt;eta&lt;/code&gt;, que es la tasa de aprendizaje, y &lt;code class=&quot;highlighter-rouge&quot;&gt;n_iter&lt;/code&gt;, que es el número de veces que vamos a recorrer el conjunto de datos de entrenamiento. A cada una de estas veces se les llama “épocas”.&lt;/p&gt;

&lt;p&gt;Una vez instanciado el perceptrón llamaremos al método &lt;code class=&quot;highlighter-rouge&quot;&gt;fit&lt;/code&gt; para entrenar nuestro modelo. Se le pasan dos parámetros: una matriz &lt;script type=&quot;math/tex&quot;&gt;\bf X&lt;/script&gt;, que contiene una fila por cada muestra y una columna por cada característica, y que constituye nuestro conjunto de datos de entrenamiento, y un array &lt;script type=&quot;math/tex&quot;&gt;\bf y&lt;/script&gt;, que contiene el resultado objetivo para cada muestra.&lt;/p&gt;

&lt;p&gt;Lo primero que hace el método &lt;code class=&quot;highlighter-rouge&quot;&gt;fit&lt;/code&gt; es inicializar los pesos y los errores:&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zeros&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
  &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Los pesos se inicializan a un array con el mismo número de elementos que muestras tiene la matriz &lt;script type=&quot;math/tex&quot;&gt;\bf X&lt;/script&gt; más uno. Ese más uno es debido a que vamos a almacenar también el parámetro &lt;script type=&quot;math/tex&quot;&gt;w_0&lt;/script&gt; corresondiente al umbral &lt;script type=&quot;math/tex&quot;&gt;\theta&lt;/script&gt; que pasamos a la izquiera en la equación \eqref{2.4}. Como estamos inicializando todo a cero consideramos el umbral inicial de activación como cero.&lt;/p&gt;

&lt;p&gt;A continuación comienza un precose que se ejecutará &lt;code class=&quot;highlighter-rouge&quot;&gt;n_iter&lt;/code&gt; veces. En el se itera sobre los datos proporcionados mediante esta instrucción:&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;   &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Lo que va a hacer la instrucción &lt;code class=&quot;highlighter-rouge&quot;&gt;zip&lt;/code&gt; es devolver un elemento por cada lista que se le pase de parámetro. Así, si &lt;script type=&quot;math/tex&quot;&gt;\bf X&lt;/script&gt; es una matriz de 100 filas (muestras) y 2 columnas (características), e &lt;script type=&quot;math/tex&quot;&gt;\bf y&lt;/script&gt; es un array de 100 elementos (las clases reales de cada muestra), la instrucción anterior iterará para cada muestra almacenando en &lt;code class=&quot;highlighter-rouge&quot;&gt;xi&lt;/code&gt; las características y en &lt;code class=&quot;highlighter-rouge&quot;&gt;target&lt;/code&gt; su clase real.&lt;/p&gt;

&lt;p&gt;Con esos datos vamos a calcular los nuevos pesos. La fórmula era la siguiente:&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\Delta w_j = \eta(y^{(i)} - \hat y^{(i)})x_j^{(i)}
w_j := w_j + \Delta w_j&lt;/script&gt;

&lt;p&gt;En nuestro caso hacemos esto:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eta&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;predict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xi&lt;/span&gt;
    &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;errors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Calculamos primero el factor &lt;script type=&quot;math/tex&quot;&gt;\eta(y^{(i)} - \hat y^{(i)})&lt;/script&gt;, y después lo multiplicamos por &lt;script type=&quot;math/tex&quot;&gt;\bf{x^{(i)}}&lt;/script&gt; para sumárselo al array de pesos, salvo el peso 0. Al ser tanto ‘self.w_[1:]’ como ‘xi’ arrays con un elemento por cada característica, estamos aplicando la corrección a todos los pesos. En el peso &lt;script type=&quot;math/tex&quot;&gt;w_0&lt;/script&gt; no multiplicamos por &lt;script type=&quot;math/tex&quot;&gt;\bf{x_0^{(i)}}&lt;/script&gt;, ya que este por definición vale uno. Finalmente acumulamos el error de cada muestra, y al final de cada época lo añadimos a un array. Esto nos permitirá ver la evolución del error por épocas.&lt;/p&gt;

&lt;p&gt;Veamos ahora cómo calcular el término &lt;script type=&quot;math/tex&quot;&gt;\hat y^{(i)}&lt;/script&gt;, que en código se obtiene llamando a &lt;code class=&quot;highlighter-rouge&quot;&gt;self.predict(xi)&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;net_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;predict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;net_input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Lo primero que hace &lt;code class=&quot;highlighter-rouge&quot;&gt;predict&lt;/code&gt; con &lt;code class=&quot;highlighter-rouge&quot;&gt;xi&lt;/code&gt; es usarlo para invocar &lt;code class=&quot;highlighter-rouge&quot;&gt;net_input&lt;/code&gt;. En esta función usamos &lt;code class=&quot;highlighter-rouge&quot;&gt;np.dot&lt;/code&gt; para realizar un producto escalar entre &lt;code class=&quot;highlighter-rouge&quot;&gt;xi&lt;/code&gt; y &lt;code class=&quot;highlighter-rouge&quot;&gt;self.w_[1:]&lt;/code&gt;. Es decir, suponiendo una muestra con dos características, y por tanto dos entradas y dos pesos, &lt;code class=&quot;highlighter-rouge&quot;&gt;np.dot(xi, self.w_[1:])&lt;/code&gt; equivale a &lt;script type=&quot;math/tex&quot;&gt;w_1x_1 + w_2x_2&lt;/script&gt;. A esto le sumamos &lt;script type=&quot;math/tex&quot;&gt;w_0&lt;/script&gt; (ya que &lt;script type=&quot;math/tex&quot;&gt;x_0&lt;/script&gt; es igual a uno), y tenemnos que &lt;code class=&quot;highlighter-rouge&quot;&gt;net_input&lt;/code&gt; devuelve el valor &lt;script type=&quot;math/tex&quot;&gt;z&lt;/script&gt;, tal como se define en \eqref{2.4}. La última parte, &lt;code class=&quot;highlighter-rouge&quot;&gt;np.where(self.net_input(xi) &amp;gt;= 0.0, 1, -1)&lt;/code&gt; devuelve 1 si &lt;script type=&quot;math/tex&quot;&gt;z&lt;/script&gt; es mayor o igual que 0, y -1 en otro caso. En resumen, el método &lt;code class=&quot;highlighter-rouge&quot;&gt;predict&lt;/code&gt; es la función &lt;script type=&quot;math/tex&quot;&gt;\phi(z)&lt;/script&gt; (\eqref{2.5}).&lt;/p&gt;

&lt;h3 id=&quot;perceptrón-con-el-conjunto-de-datos-iris&quot;&gt;Perceptrón con el conjunto de datos Iris&lt;/h3&gt;

&lt;p&gt;Toda la lógica del perceptrón está implementada en la clase anterior. Vamos a utilizarla con el conjunto de datos Iris ya mencionado anteriormente. El ejemplo del libro utilizan la librería &lt;code class=&quot;highlighter-rouge&quot;&gt;pandas&lt;/code&gt;, especializada en análisis de datos y estructuras, para cargar los datos de Iris. Estos datos se almacenan en un tipo de datos de la librería llamado &lt;a href=&quot;http://pandas.pydata.org/pandas-docs/stable/dsintro.html#dataframe&quot;&gt;DataFrame&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pandas&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pd&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'https://archive.ics.uci.edu/ml/'&lt;/span&gt;
                 &lt;span class=&quot;s&quot;&gt;'machine-learning-databases/iris/iris.data'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;                
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;El archivo de datos lo estamos descargando de internet, pero también está disponible en el código de ejemplo para usar en local.&lt;/p&gt;

&lt;p&gt;El código de ejemplo imprime las últimas líneas de la estructura de datos cargada:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt; &lt;/th&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;th&gt;3&lt;/th&gt;
      &lt;th&gt;4&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;145&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;6.7&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;5.2&lt;/td&gt;
      &lt;td&gt;2.3&lt;/td&gt;
      &lt;td&gt;Iris-virginica&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;146&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;6.3&lt;/td&gt;
      &lt;td&gt;2.5&lt;/td&gt;
      &lt;td&gt;5.0&lt;/td&gt;
      &lt;td&gt;1.9&lt;/td&gt;
      &lt;td&gt;Iris-virginica&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;147&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;6.5&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;5.2&lt;/td&gt;
      &lt;td&gt;2.0&lt;/td&gt;
      &lt;td&gt;Iris-virginica&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;148&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;6.2&lt;/td&gt;
      &lt;td&gt;3.4&lt;/td&gt;
      &lt;td&gt;5.4&lt;/td&gt;
      &lt;td&gt;2.3&lt;/td&gt;
      &lt;td&gt;Iris-virginica&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;149&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;5.9&lt;/td&gt;
      &lt;td&gt;3.0&lt;/td&gt;
      &lt;td&gt;5.1&lt;/td&gt;
      &lt;td&gt;1.8&lt;/td&gt;
      &lt;td&gt;Iris-virginica&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;A continuación preprocesamos los datos, para dejarlos en el formato adecuado para trabajar con ellos. Usaremos las librerías &lt;code class=&quot;highlighter-rouge&quot;&gt;numpy&lt;/code&gt;, para tratar los datos, y &lt;code class=&quot;highlighter-rouge&quot;&gt;matplotlib&lt;/code&gt;, para dibujarlos en una gráfica&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;numpy&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;np&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;plt&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;En primer lugar hemos seleccionado los 100 primeros registros del DataFrame, pero cogiendo sólo la quinta columna (la 4 por comenzar el índice en 0). Esto nos devuelve un array con 100 valores, cada uno de los cuales es el nombre de la especie. Es decir, cogemos las etiquetas de la clase de cada muestra.&lt;/p&gt;

&lt;p&gt;En el conjunto de datos Iris los datos están ordenados de tal forma que los 50 primeros son Iris-setosa, y los 50 siguientes Iris-versicolor. De esta forma limitarnos a los 100 primeros registros nos permite realizar una clasificación binaria.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;where&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'Iris-setosa'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;El siguiente paso consiste en sustituir las etiquetas de texto por valores numéricos. El valor objetivo pasará a ser -1 para las Iris-setosa y 1 para las Iris-versicolor. Almacenamos los datos en un array &lt;script type=&quot;math/tex&quot;&gt;\bf y&lt;/script&gt; de 100 elementos.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;De las cuatro características posibles nos vamos a quedar con dos: la longitud del sépalo y la longitud del pétalo. Esto nos permitirá dibujar los datos en una gráfica de dos dimensiones. Al igual que hicimos con el valor objetivo, cogemos los cien primeros valores del conjunto de datos, quedándonos con la primera y la tercera columna. Esto nos devuelve una matriz &lt;script type=&quot;math/tex&quot;&gt;\bf X \in \mathbb R^{100x2}&lt;/script&gt;.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'red'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;marker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'o'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'setosa'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'blue'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;marker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'x'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'versicolor'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xlabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'sepal length [cm]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ylabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'petal length [cm]'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;loc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'upper left'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tight_layout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Dibujamos los datos almacenados. Marcamos con una ‘o’ roja las Iris-setosa (las 50 primeras), y con una ‘x’ azul las Iris-versicolor. El resultado es este:&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Datos de entrenamiento&quot; src=&quot;https://raw.githubusercontent.com/rasbt/python-machine-learning-book/master/code/ch02/images/02_06.png&quot; /&gt;
        &lt;figcaption&gt;Datos de entrenamiento&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Con los datos listos podemos realizar el entrenamiento.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ppn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Perceptron&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eta&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n_iter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ppn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Instanciamos el perceptrón con un &lt;script type=&quot;math/tex&quot;&gt;\eta = 0.1&lt;/script&gt; y 10 épocas. Para entrenar  basta con llamar al método &lt;code class=&quot;highlighter-rouge&quot;&gt;fit&lt;/code&gt; pasando &lt;script type=&quot;math/tex&quot;&gt;\bf X&lt;/script&gt;  e &lt;script type=&quot;math/tex&quot;&gt;\bf y&lt;/script&gt; como parámetros.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ppn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ppn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;errors_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;marker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'o'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xlabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Epochs'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ylabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Number of updates'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tight_layout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# plt.savefig('./perceptron_1.png', dpi=300)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Una vez entrenado el modelo, pintamos en un gráfico los errores encontrados en cada generación. En  el eje X pintamos las épocas (la longitud del array de errores), y en el Y mostramos el número de errores.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Errores por época&quot; src=&quot;https://raw.githubusercontent.com/rasbt/python-machine-learning-book/master/code/ch02/images/02_07.png&quot; /&gt;
        &lt;figcaption&gt;Errores por época&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;A partir de la 6ª época el modelo ya no comete errores. Ahora vamos a dibujar los datos de entrenamiento, pero marcando las zonas que el modelo ya entrenado considera como de una clase u otra.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;matplotlib.colors&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ListedColormap&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;plot_decision_regions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;classifier&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resolution&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;markers&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'x'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'o'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'^'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'v'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;colors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'red'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'blue'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'lightgreen'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'gray'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'cyan'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cmap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ListedColormap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Definimos una nueva función que nos permita dibujar en distintos colores las zonas que serían de Iris-setosa e Iris-versicolor si una muestra tuviese unas características que estuviesen en ese punto.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;plot_decision_regions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;classifier&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resolution&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# ... Continuación&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x1_min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1_max&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x2_min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2_max&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[:,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;xx1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;meshgrid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x1_min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x1_max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resolution&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                           &lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x2_min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x2_max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resolution&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;classifier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;predict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ravel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ravel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Z&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reshape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;contourf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cmap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xlim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ylim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;# plot class samples&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cl&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;np&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;plt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;marker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;markers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Definimos los valores mínimo y máximo del sépalo (&lt;code class=&quot;highlighter-rouge&quot;&gt;x1_min&lt;/code&gt; y &lt;code class=&quot;highlighter-rouge&quot;&gt;x1_max&lt;/code&gt;) y del pétalo (&lt;code class=&quot;highlighter-rouge&quot;&gt;x2_min&lt;/code&gt; y &lt;code class=&quot;highlighter-rouge&quot;&gt;x2_max&lt;/code&gt;), restando uno al mínimo y sumándolo al máximo para tener un rango con margen. La función &lt;a href=&quot;https://docs.scipy.org/doc/numpy/reference/generated/numpy.arange.html&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;np.arange&lt;/code&gt;&lt;/a&gt; devuelve una lista de valores que van del primer parámetro al segundo en intervalos marcados por el tercer parámetro. Las dos llamadas a &lt;code class=&quot;highlighter-rouge&quot;&gt;np.arange&lt;/code&gt; devolverán un array de valores separados por 0.02. En el primer caso van del 3.30 al 7.98, en el segundo del 0 al 6.08.  Con ambos arrays construimos una matriz que pasamos al predictor, el cual nos devolverá el valor predicho para todos los puntos del plano definido.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Regiones predichas para cada clase&quot; src=&quot;https://raw.githubusercontent.com/rasbt/python-machine-learning-book/master/code/ch02/images/02_08.png&quot; /&gt;
        &lt;figcaption&gt;Regiones predichas para cada clase&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;</content><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><summary type="html">Empezamos con los algoritmos. Vamos a implementar un perceptrón en Python, y entrenarlo para que sepa clasificar las diferentes especies de flores en Iris. El libro comienza mostrando el modelo de neurona de McCulloch-Pitts:</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.javiercancela.com/images/pml/pml.jpg" /></entry><entry><title type="html">Machine Learning con Python - Tema 1</title><link href="https://www.javiercancela.com/2017/03/12/python-machine-learning-i/" rel="alternate" type="text/html" title="Machine Learning con Python - Tema 1" /><published>2017-03-12T01:00:00+00:00</published><updated>2017-03-12T01:00:00+00:00</updated><id>https://www.javiercancela.com/2017/03/12/python-machine-learning-i</id><content type="html" xml:base="https://www.javiercancela.com/2017/03/12/python-machine-learning-i/">&lt;p&gt;El foco de estas entradas se pondrá en el &lt;a href=&quot;https://github.com/rasbt/python-machine-learning-book&quot;&gt;código Python publicado en GitHub&lt;/a&gt;, pero el primer tema no incluye código, tan sólo presenta una serie de conceptos que resumo en esta entrada.&lt;/p&gt;

&lt;h2 id=&quot;tipos-de-machine-learning&quot;&gt;Tipos de &lt;em&gt;machine learning&lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;Existen tres estrategias distintas de aprendizaje automático: supervisado, no supervisado y reforzado&lt;/p&gt;

&lt;h3 id=&quot;supervisado&quot;&gt;Supervisado&lt;/h3&gt;

&lt;p&gt;En el aprendizaje supervisado se entrena el modelo con datos para los que ya se conoce el resultado correcto. En función del tipo de resultado que esperemos obtener, podemos encontrarnos con que los datos de entrenamiento llevan asociada una etiqueta que indica a qué categoría pertenece, o un valor numérico. En el primer caso hablamos de &lt;strong&gt;clasificación&lt;/strong&gt;, y en el segundo de &lt;strong&gt;regresión&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Un ejemplo de problema de clasificación es el mencionado en la entrada anterior: la clasificación de spam. Al modelo se le presenta con una serie de correos que ya han sido identificados con una etiqueta ‘spam’ o ‘no spam’. El modelo utiliza esos correos para calibrar ciertos valores internos, de forma que pueda identificar correctamente futuros correos sin intervención humana.&lt;/p&gt;

&lt;p&gt;En los problemas de regresión el valor esperado pertenece a un rango continuo. Un ejemplo, &lt;a href=&quot;http://setosa.io/ev/ordinary-least-squares-regression/&quot;&gt;sacado de este post (en inglés)&lt;/a&gt;, sería un modelo para predecir la altura de una persona a partir del tamaño de su mano. Para ello entrenaríamos el modelo con una muestra aleatoria de personas, para las cuales tendríamos tanto el tamaño de su mano como su altura real. El resultado sería una ecuación del tipo &lt;script type=&quot;math/tex&quot;&gt;y = A + Bx&lt;/script&gt;
donde &lt;em&gt;x&lt;/em&gt; sería el tamaño de la mano, &lt;em&gt;A&lt;/em&gt; y &lt;em&gt;B&lt;/em&gt; valores definidos tras el proceso de aprendizaje, e &lt;em&gt;y&lt;/em&gt; la altura predicha para el valor x.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Ejemplo de regresión lineal&quot; src=&quot;/images/pml/1_regression.png&quot; /&gt;
        &lt;figcaption&gt;Ejemplo de regresión lineal&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;h3 id=&quot;reforzado&quot;&gt;Reforzado&lt;/h3&gt;

&lt;p&gt;El aprendizaje reforzado entrena un modelo para que consiga un objetivo. Para ello se alimenta el modelo con el resultado de una función que evalúa cómo de cerca estamos del objetivo. Se establece un ciclo en el que el modelo genera una salida, la función evalúa cómo de satisfactoria ha sido esta salida, y la evaluación se utiliza para ajustar el modelo.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;El modelo ('Agent') cambia el estado a través de una acción. Este cambio nos acerca más o menos al objetivo. Realimentamos el modelo con una recompensa, así como con la acción que generó dicha recompensa&quot; src=&quot;/images/pml/1_refuerzo.png&quot; /&gt;
        &lt;figcaption&gt;El modelo ('Agent') cambia el estado a través de una acción. Este cambio nos acerca más o menos al objetivo. Realimentamos el modelo con una recompensa, así como con la acción que generó dicha recompensa&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Los ejemplos habituales de aplicación de esta técnica son los juegos: ajedrez, tres en raya, juegos de cartas… En ellos el programa va aprendiendo según juega partidas y comprueba qué acciones llevan a la victoria.&lt;/p&gt;

&lt;h3 id=&quot;no-supervisado&quot;&gt;No supervisado&lt;/h3&gt;

&lt;p&gt;En algunas ocasiones nos encontramos con datos de los que no sabemos qué información extraer. Para estos casos se usan técnicas de aprendizaje no supervisado, en las que se analiza la estructura de los datos para intentar extraer información útil. El libro menciona dos aproximaciones a esta técnica: &lt;strong&gt;agrupación (&lt;em&gt;clustering&lt;/em&gt;)&lt;/strong&gt; y &lt;strong&gt;reducción de dimensionalidad&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;En la agrupación se buscan elementos que, según algún criterio, son algo similares entre sí y algo distintos a los demás. Por ejemplo, si tenemos un conjunto de animales con gatos, caballos, palomas y águilas, y proporcionamos al modelo sus tamaños y el número de patas de cada animal, el aprendizaje no supervisado le permitiría identificar correctamente cuatro tipos de animales: grande con dos patas (águila), grande con cuatro patas (caballo), pequeño con dos patas (paloma) y pequeño con cuatro patas (gato).&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Un ejemplo un poco más real de clustering&quot; src=&quot;https://docs.microsoft.com/en-us/azure/machine-learning/media/machine-learning-algorithm-choice/image9.png&quot; /&gt;
        &lt;figcaption&gt;Un ejemplo un poco más real de clustering&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;En cuanto a la reducción de dimensionalidad, consiste en reducir los datos de forma que se retenga la información relevante. La idea es disminuir tanto el espacio ocupado por los datos como el tiempo necesario para ejecutar los algoritmos. Usando un ejemplo sacado de &lt;a href=&quot;http://stackoverflow.com/a/1994481&quot;&gt;esta respuesta de stackoverflow&lt;/a&gt;, supongamos un conjunto de datos en el que 1000 personas indican si les gusta o no cada una de 100 películas seleccionadas. Podríamos almacenar esta información en 1000 vectores de 100 elementos cada uno, donde cada elemento fuese un 1 o un 0 según la película hubiese gustado o no. Una forma de reducir la dimensionalidad del conjunto de datos sería asignar a cada película uno de cinco géneros (comedia, terror, … los que fuesen más representativos), y usar los datos originales para construir un nuevo vector de cinco elementos para cada persona, donde se indicase si el género es no de su agrado. Pasaríamos así de 100.000 a 5.000 elementos. Como contrapartida, perderíamos información (a una persona le pueden gustar un par de películas de un género que no le gusta).&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;El ejemplo del libro reduce una muestra de datos en 3 dimensionaes a otra equivalente en 2 dimensiones&quot; src=&quot;/images/pml/1_compression.png&quot; /&gt;
        &lt;figcaption&gt;El ejemplo del libro reduce una muestra de datos en 3 dimensiones a otra equivalente en 2 dimensiones&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;h2 id=&quot;terminología-y-notación&quot;&gt;Terminología y notación&lt;/h2&gt;

&lt;p&gt;Como es de esperar en cualquier disciplina técnica que se precie, el &lt;em&gt;machine learning&lt;/em&gt; incluye un montón de terminología propia que es preciso conocer. El siguiente punto del tema 1 presenta algunos de estos términos.&lt;/p&gt;

&lt;p&gt;En aprendizaje automático existe un conjunto de datos muy conocido que se usa en todos los cursos para principiantes, algo así como el “Hola Mundo” de los conjuntos de datos. Se llama &lt;a href=&quot;https://es.wikipedia.org/wiki/Iris_flor_conjunto_de_datos&quot;&gt;conjunto de datos Iris&lt;/a&gt;, e incluye datos de 50 ejemplares de cada una de las 3 especies de la flor Iris. Para cada ejemplar se da el largo y ancho del pétalo y el sépalo, así como la especie a la que pertenece (&lt;em&gt;setosa&lt;/em&gt;, &lt;em&gt;versicolor&lt;/em&gt; o &lt;em&gt;virginica&lt;/em&gt;).&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Algunos datos de Iris y una ilustración de la flor&quot; src=&quot;/images/pml/1_iris.png&quot; /&gt;
        &lt;figcaption&gt;Algunos datos de Iris y una ilustración de la flor&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Como se puede apreciar en la imagen superior, cada fila de datos es una &lt;em&gt;muestra&lt;/em&gt;, &lt;em&gt;instancia&lt;/em&gt; u &lt;em&gt;observación&lt;/em&gt;. Para cada una de estas muestras se proporciona una serie de datos, a los que nos solemos referir como &lt;em&gt;características&lt;/em&gt;, aunque también &lt;em&gt;atributos&lt;/em&gt;, &lt;em&gt;medidas&lt;/em&gt; o &lt;em&gt;dimensiones&lt;/em&gt;. Finalmente, la especie de la flor sería la &lt;em&gt;etiqueta&lt;/em&gt; u &lt;em&gt;objetivo&lt;/em&gt;. La consistencia en la terminología no es un fuerte del &lt;em&gt;machine learning&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;En este punto el libro también nos habla de notación algebraica. El trabajo con matrices es fundamental en el &lt;em&gt;machine learning&lt;/em&gt;, así que este el autor nos cuenta qué notación utiliza para representar matices, vectores y elementos dentro de los mismos.&lt;/p&gt;

&lt;p&gt;Por ejemplo, el conjunto de datos Iris se puede representar como una matriz de 150 filas (una por muestra) y 4 columnas (una por característica):&lt;/p&gt;

&lt;p&gt;\begin{bmatrix}
x_1^{(1)} &amp;amp; x_2^{(1)} &amp;amp; x_3^{(1)} &amp;amp; x_4^{(1)} \cr
x_1^{(2)} &amp;amp; x_2^{(2)} &amp;amp; x_3^{(2)} &amp;amp; x_4^{(2)} \cr
\vdots &amp;amp; \vdots &amp;amp; \vdots &amp;amp; \vdots \cr
x_1^{(150)} &amp;amp; x_2^{(150)} &amp;amp; x_3^{(150)} &amp;amp; x_4^{(150)} \cr
\end{bmatrix}&lt;/p&gt;

&lt;p&gt;En general, un elemento &lt;script type=&quot;math/tex&quot;&gt;x_n^{(m)}&lt;/script&gt; se refiere al elemento de la fila m y la columna n de una matriz. Usaremos negritas en minúsculas para los vectores (&lt;script type=&quot;math/tex&quot;&gt;\bf x \in \mathbb R^{nx1}&lt;/script&gt;), y negritas en mayúsculas para las matrices (&lt;script type=&quot;math/tex&quot;&gt;\bf X \in \mathbb R^{nxm}&lt;/script&gt;).&lt;/p&gt;

&lt;h2 id=&quot;otros-aspectos-importantes-del-aprendizaje-automático&quot;&gt;Otros aspectos importantes del aprendizaje automático&lt;/h2&gt;

&lt;p&gt;Además del algoritmo de aprendizaje, el libro nos habla en este tema de otros aspectos importantes del &lt;em&gt;machine learning&lt;/em&gt;&lt;/p&gt;

&lt;h3 id=&quot;preprocesado&quot;&gt;Preprocesado&lt;/h3&gt;

&lt;p&gt;El preprocesado es la fase inicial del proceso de aprendizaje. Consiste en disponer los datos existentes en un formato adecuado para su procesamiento: se normalizan valores, se pasan textos a números, se separan datos de entrenamiento y datos de prueba,…&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Ejemplo de flujo de modelado predictivo&quot; src=&quot;/images/pml/1_flujo.png&quot; /&gt;
        &lt;figcaption&gt;Ejemplo de flujo de modelado predictivo&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;h3 id=&quot;entrenamiento-y-selección-del-proceso-predictivo&quot;&gt;Entrenamiento y selección del proceso predictivo&lt;/h3&gt;

&lt;p&gt;La otra tarea fundamental a realizar al empezar es la correcta selección del algoritmo a utilizar. Queremos obtener el modelo que presente un mejor rendimiento, pero para ello necesitamos definir una métrica que mida este rendimiento. La más común es la proporción de muestras correctamente clasificadas.&lt;/p&gt;

&lt;h3 id=&quot;evaluación-de-modelos-y-predcción-de-instancias-de-datos-no-vistas&quot;&gt;Evaluación de modelos y predcción de instancias de datos no vistas&lt;/h3&gt;

&lt;p&gt;El modelo se entrena con los datos de entrenamiento, y se evalúa con la parte del conjunto de datos reservada para ello. En función de la tasa de error encontrada en la evaluación decidiremos si el modelo es válido.&lt;/p&gt;

&lt;h2 id=&quot;python&quot;&gt;Python&lt;/h2&gt;

&lt;p&gt;El tema finaliza hablando de Python y de cómo instalarlo. Python es uno de los lenguajes más populares en el mundo del &lt;em&gt;machine learning&lt;/em&gt;, en parte por su versatilidad, en parte por la gran cantidad de librerías especialidadas de las que dispone. Especialmente relevantes para el aprendizaje máquina son &lt;a href=&quot;http://www.numpy.org/&quot;&gt;NumPy&lt;/a&gt; y &lt;a href=&quot;https://www.scipy.org/&quot;&gt;SciPy&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;La opción más cómoda para instalar Python con todo lo necesario para este libro es descargar &lt;a href=&quot;https://docs.continuum.io/anaconda/install#&quot;&gt;Anaconda&lt;/a&gt;, un gestor de instalaciones de Python.&lt;/p&gt;

&lt;p&gt;El libro no habla del entorno de desarrollo, pero yo uso desde hace unos meses el &lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;Visual Studio Code&lt;/a&gt;. Con la &lt;a href=&quot;https://marketplace.visualstudio.com/items?itemName=donjayamanne.python&quot;&gt;extensión de Python&lt;/a&gt; proporcionando autocompletado, &lt;a href=&quot;https://es.wikipedia.org/wiki/Lint&quot;&gt;&lt;em&gt;linting&lt;/em&gt;&lt;/a&gt;, formateado de código y depuración, el Visual Studio Code supera al resto de entornos Python disponibles de forma gratuita.&lt;/p&gt;

&lt;h2 id=&quot;conclusión&quot;&gt;Conclusión&lt;/h2&gt;

&lt;p&gt;El tema 1 nos familiariza con los conceptos más básicos del aprendizaje máquina. En el tema 2 empezaremos ya a ver código para avanzar en la materia.&lt;/p&gt;</content><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><summary type="html">El foco de estas entradas se pondrá en el código Python publicado en GitHub, pero el primer tema no incluye código, tan sólo presenta una serie de conceptos que resumo en esta entrada.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.javiercancela.com/images/pml/pml.jpg" /></entry><entry><title type="html">Ready Player One</title><link href="https://www.javiercancela.com/2017/03/05/ready-player-one/" rel="alternate" type="text/html" title="Ready Player One" /><published>2017-03-05T01:00:00+00:00</published><updated>2017-03-05T01:00:00+00:00</updated><id>https://www.javiercancela.com/2017/03/05/ready-player-one</id><content type="html" xml:base="https://www.javiercancela.com/2017/03/05/ready-player-one/">&lt;p&gt;&lt;em&gt;&lt;a href=&quot;https://www.artstation.com/artwork/bg49G&quot;&gt;Imagen de la cabecera&lt;/a&gt; de &lt;a href=&quot;https://www.artstation.com/artist/degesart&quot;&gt;Florian de Gesincourt&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.amazon.es/Ready-player-one-Grandes-novelas/dp/8466649174/&quot;&gt;&lt;em&gt;Ready Player One&lt;/em&gt;, de Ernest Cline&lt;/a&gt; es un homenaje a la cultura pop de los años 80 en su vertiente más friki: máquinas recreativas, videoconsolas, juegos de rol, y novelas, comics, películas de componente más o menos fantástico. Conmigo la fórmula funcionó muy bien, y lo devoré como se devora una hamburguesa un viernes a las 7 de la mañana antes de irte a dormir.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img style=&quot;width:400px&quot; alt=&quot;Cuando devoré mi última hamburguesa a las 7 de la mañana aun había maquinitas de Invaders en los bares&quot; src=&quot;https://images-na.ssl-images-amazon.com/images/I/71teOCvL2TL.jpg&quot; /&gt;  
        &lt;figcaption&gt;Cuando devoré mi última hamburguesa a las 7 de la mañana aun había maquinitas de Invaders en los bares&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Estamos en el año 2044. Wade Watts es una adolescente huérfano que vive con una tía que le odia en un asentamiento donde las caravanas se apilan a varias alturas, y cuya única ilusión en la vida es evadirse a través de OASIS, un híbrido de internet y MMORPG que sirve lo mismo para jugar al rol que para ir a clase. Ernest Cline aprovecha este entorno para sumergirnos en una fantasía casi sin límites, a partir de un concurso que se convierte en una aventura repleta de guiños nostálgicos al pasado.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img style=&quot;width:400px&quot; alt=&quot;Aquí las caravanas apiladas&quot; src=&quot;http://t2.gstatic.com/images?q=tbn:ANd9GcQWpxNZupWTxKEoVaD-U0C_wC7cIkfUFtRRj12M4an8tl1rwj9p&quot; /&gt;  
        &lt;figcaption&gt;Aquí las caravanas apiladas&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;El libro está bien escrito. Tiene ritmo, sobre todo al principio, y los personajes son estereotipos bien desarrollados, al menos lo suficiente como para que te encariñes con ellos. El libro está lleno de tópicos, con malos muy malos, buenos muy buenos, chico, chica, amigo del chico, figura paterna,… pero todo encaja en el juego que propone el autor.&lt;/p&gt;

&lt;p&gt;¿Cómo reciben el libro los que no entren en este juego? Con cierta dificultad, por lo que se lee en las críticas. Los más jóvenes, y los que pasaron por los 80 haciendo una vida normal (o siendo parte de la Movida, o ligando, o vete a saber haciendo qué) puede que no le encuentren interés a un libro que rinde culto a un mundo que nunca fue el suyo.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Perspectiva isométrica, robots japoneses, llaves y castillos. Todo esto y mucho más en Ready Player One&quot; src=&quot;/images/rpo.jpg&quot; /&gt;  
        &lt;figcaption&gt;Perspectiva isométrica, robots japoneses, llaves y castillos. Todo esto y mucho más en Ready Player One&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Tras leer el libro me encontré con que &lt;a href=&quot;https://es.wikipedia.org/wiki/Ready_Player_One_(pel%C3%ADcula)&quot;&gt;Steven Spielberg está rodando una versión para el cine&lt;/a&gt;. Imagino que la idea es apuntar al &lt;em&gt;target&lt;/em&gt; natural del libro (cuarentones nostálgicos) y añadir los cambios necesarios para asegurarse el interés del público joven. Veremos cómo resulta.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;El chico y la chica&quot; src=&quot;https://images-na.ssl-images-amazon.com/images/M/MV5BMTY1NDA5MTY0M15BMl5BanBnXkFtZTgwMzA3MDExOTE@._V1_UY317_CR14,0,214,317_AL_.jpg&quot; /&gt;  
        &lt;img alt=&quot;El chico y la chica&quot; src=&quot;https://s-media-cache-ak0.pinimg.com/236x/38/14/30/3814303a211c6f94afbd4d977e0ff803.jpg&quot; /&gt;  
        &lt;figcaption&gt;El chico y la chica, más guapos en la película que en el libro, as usual&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;</content><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><summary type="html">Imagen de la cabecera de Florian de Gesincourt</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.javiercancela.com/images/florian-de-gesincourt-degesart-sk0010-playerone-j-deges1500.jpg" /></entry><entry><title type="html">Machine Learning con Python - Introducción</title><link href="https://www.javiercancela.com/2017/02/26/python-machine-learning-intro/" rel="alternate" type="text/html" title="Machine Learning con Python - Introducción" /><published>2017-02-26T01:00:00+00:00</published><updated>2017-02-26T01:00:00+00:00</updated><id>https://www.javiercancela.com/2017/02/26/python-machine-learning-intro</id><content type="html" xml:base="https://www.javiercancela.com/2017/02/26/python-machine-learning-intro/">&lt;p&gt;Tengo este blog fundamentalmente para aprender. La forma en la que aprendo alguna cosa es la siguiente: decido sobre qué quiero aprender, decido qué material voy a utilizar para ello (libros, cursos web, blogs,…) y preparo unos apuntes basados en ese material. Esos apuntes consisten en entradas en este blog donde explico aquello que creo haber entendido.&lt;/p&gt;

&lt;p&gt;Por lo tanto, en este tipo de entradas hablo sobre cosas de las que sé entre poco y nada, y lo hago resumiendo, traduciendo, y reformulando las explicaciones de alguien que sí sabe de qué habla (o eso espero).&lt;/p&gt;

&lt;h2 id=&quot;python-machine-learning&quot;&gt;&lt;em&gt;Python Machine learning&lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;Esta entrada es la primera de una serie dedicada a la inteligencia artificial, específicamente a la rama conocida como &lt;em&gt;machine learning&lt;/em&gt;. La guía para ello va a ser el libro &lt;a href=&quot;https://www.amazon.es/Python-Machine-Learning-Sebastian-Raschka/dp/1783555130/&quot;&gt;Python Machine Learning&lt;/a&gt;, de &lt;a href=&quot;https://sebastianraschka.com/&quot;&gt;Sebastian Raschka&lt;/a&gt;.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;a href=&quot;https://www.packtpub.com/big-data-and-business-intelligence/python-machine-learning&quot;&gt;&lt;img style=&quot;width:400px&quot; alt=&quot;La portada del libro&quot; src=&quot;/images/pml/pymle_cover.jpg&quot; /&gt;&lt;/a&gt;
        &lt;figcaption&gt;La portada del libro&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Es un libro muy práctico, tiene muchos ejemplos en Python, &lt;a href=&quot;https://github.com/rasbt/python-machine-learning-book&quot;&gt;todo el código fuente está disponible en GitHub&lt;/a&gt;, tiene buenas críticas en Amazon, y está bien escrito. Es un libro muy recomendable para quien quiera iniciarse en el tema.&lt;/p&gt;

&lt;p&gt;En GitHub se incluye &lt;a href=&quot;https://github.com/rasbt/python-machine-learning-book/tree/master/faq&quot;&gt;una faq&lt;/a&gt; en la &lt;a href=&quot;https://github.com/rasbt/python-machine-learning-book/blob/master/faq/copyright.md&quot;&gt;se autoriza usar hasta el 10% del contenido del libro&lt;/a&gt; siempre que se cite y acredite correctamente, y no se venda o redistribuya la información. Esto me permite incluir imágenes y algún párrafo suelto para ir ilustrando las entradas.&lt;/p&gt;

&lt;p&gt;En la próxima entrada de la serie comenzaremos con el tema 1 del libro, con la idea de ir repasando todo el libro por orden. Hasta entonces resumo algunas respuestas de la faq mencionada.&lt;/p&gt;

&lt;h2 id=&quot;machine-learning&quot;&gt;&lt;em&gt;Machine Learning&lt;/em&gt;&lt;/h2&gt;

&lt;p&gt;Ver &lt;a href=&quot;https://github.com/rasbt/python-machine-learning-book/blob/master/faq/datascience-ml.md&quot;&gt;What are data science and machine learning?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Casi todas las definiciones de &lt;em&gt;machine learning&lt;/em&gt; (prefiero el término inglés a la traducción española, que suele ser ‘aprendizaje automático’) hacen refencia a los algoritmos empleados, ya que en realidad el &lt;em&gt;machine learning&lt;/em&gt; es una forma concreta de programación.&lt;/p&gt;

&lt;p&gt;El autor define un algoritmo de &lt;em&gt;machine learning&lt;/em&gt; como aquel que aprende, e incluso predice, modelos a partir de datos.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;El aprendizaje automático es el campo de estudio que proporciona a los ordenadores la capacidad de aprender sin haber sido explícitamente programados para ello - Arthur Samuel (1959)&quot; src=&quot;https://github.com/rasbt/python-machine-learning-book/raw/master/faq/datascience-ml/ml-overview.jpg&quot; /&gt;
        &lt;figcaption&gt;El aprendizaje automático es el campo de estudio que proporciona a los ordenadores la capacidad de aprender sin haber sido explícitamente programados para ello - Arthur Samuel (1959)&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Uno de los ejemplos más clásicos es el filtro de spam. Un programa convencional que tuviese que separar el spam del correo legítimo tendría que incorporar una serie de reglas if/then que comprobasen una serie de términos, especificados por expertos en la materia, y discriminasen los correos en base a esas reglas.&lt;/p&gt;

&lt;p&gt;La forma ‘&lt;em&gt;machine learning&lt;/em&gt;’ de realizar esta tarea comenzaría con una muestra de correos, algunos spam y otros no, a los que unos clasificadores humanos hubiesen etiquetado correspondientemente. El algoritmo de &lt;em&gt;machine learning&lt;/em&gt; examinaría estos correos y extraería un conjunto de reglas para clasificar los correos que se le suministrasen en el futuro. A este tipo de aproximación se le llama aprendizaje supervisado.&lt;/p&gt;

&lt;h2 id=&quot;machine-learnign-e-inteligencia-artificial&quot;&gt;&lt;em&gt;Machine learnign&lt;/em&gt; e Inteligencia Artificial&lt;/h2&gt;

&lt;p&gt;Ver &lt;a href=&quot;https://github.com/rasbt/python-machine-learning-book/blob/master/faq/ai-and-ml.md&quot;&gt;How are Artificial Intelligence and Machine Learning related?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;La inteligencia artificial es la disciplina que se centra en las tareas en las que los humanos son mucho mejor que las máquinas, como detectar spam o identificar objetos en una imagen.&lt;/p&gt;

&lt;p&gt;El autor no considera el &lt;em&gt;machine learning&lt;/em&gt; como una subdisciplina de la inteligencia artificial. Ambas disciplinas se solapan, pero también tienen áreas de conocimiento independientes. En el caso del &lt;em&gt;machine learning&lt;/em&gt; se incluirían las técnicas de &lt;em&gt;data mining&lt;/em&gt; (término que se aplica en general a las técnicas de extracción de información a partir de datos en bruto), que no son parte de la inteligencia artificial.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;El 'deep learning' sí es una subdisciplina del 'machine learning', pero lo trataremos más adelante &quot; src=&quot;https://raw.githubusercontent.com/rasbt/python-machine-learning-book/master/faq/ai-and-ml/ai-and-ml-1.png&quot; /&gt;
        &lt;figcaption&gt;El 'deep learning' sí es una subdisciplina del 'machine learning', pero lo trataremos más adelante&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;h2 id=&quot;python&quot;&gt;Python&lt;/h2&gt;

&lt;p&gt;Ver &lt;a href=&quot;https://github.com/rasbt/python-machine-learning-book/blob/master/faq/why-python.md&quot;&gt;Why did you choose Python for Machine Learning?&lt;/a&gt;&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;a href=&quot;https://xkcd.com/353/&quot;&gt;&lt;img alt=&quot;Cualquier cosa interesante que quiera decir ya la ha dicho Randall Munroe mejor que yo&quot; src=&quot;https://imgs.xkcd.com/comics/python.png&quot; /&gt;&lt;/a&gt;
        &lt;figcaption&gt;Cualquier cosa interesante que quiera decir ya la ha dicho Randall Munroe mejor que yo&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;</content><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><summary type="html">Tengo este blog fundamentalmente para aprender. La forma en la que aprendo alguna cosa es la siguiente: decido sobre qué quiero aprender, decido qué material voy a utilizar para ello (libros, cursos web, blogs,…) y preparo unos apuntes basados en ese material. Esos apuntes consisten en entradas en este blog donde explico aquello que creo haber entendido.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.javiercancela.com/images/pml/pml.jpg" /></entry><entry><title type="html">Un blog en GitHub (y V - Últimos ajustes)</title><link href="https://www.javiercancela.com/2017/02/19/un-blog-en-github-y-v/" rel="alternate" type="text/html" title="Un blog en GitHub (y V - Últimos ajustes)" /><published>2017-02-19T01:00:00+00:00</published><updated>2017-02-19T01:00:00+00:00</updated><id>https://www.javiercancela.com/2017/02/19/un-blog-en-github-y-v</id><content type="html" xml:base="https://www.javiercancela.com/2017/02/19/un-blog-en-github-y-v/">&lt;p&gt;Los blogs, y los sites en general, albergados en GitHub son totalmente estáticos. Es decir, al acceder a una url de nuestro blog no se ejecuta código en el servidor, tan solo se devuelven archivos html, js, css, multimedia, … tal como están guardados en el mismo.&lt;/p&gt;

&lt;p&gt;Las partes dinámicas que pueda haber (comentarios en los posts, formularios de contacto, …) se consiguen mediante integraciones con otras páginas web. Como ejemplo, este blog tiene comentarios en las entradas, pero todo el código relativo a ellos se encuentra en el servidor de &lt;a href=&quot;https://disqus.com/&quot;&gt;Disqus&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;jekyll-y-github-pages&quot;&gt;Jekyll y GitHub Pages&lt;/h2&gt;
&lt;p&gt;En los posts anteriores hemos visto cómo utilizar un lenguaje de marcado, &lt;a href=&quot;http://shopify.github.io/liquid/&quot;&gt;Liquid&lt;/a&gt;, para generar dinámicamente algunas partes del sitio web. Podría pensarse entonces que Jekyll funciona como un servidor de aplicaciones generando estas páginas según las vamos solicitando. Sin embargo, lo que hace Jekyll es compilar los archivos con Liquid, y los demás recursos del repositorio, para generar un sitio web estático convencional que almacena en la carpeta &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Hasta ahora hemos dejado que el Jekyll de GitHub se encargase de la generación del site. Al subir nuestro código al repositorio GitHub Pages se encarga de realizar la compilación, tal como ocurre cuando la hacemos en local con&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bundle exec jekyll serve
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;generación-fuera-de-github&quot;&gt;Generación fuera de GitHub&lt;/h2&gt;

&lt;p&gt;Pero hay una diferencia: por motivos de seguridad GitHub Pages restringe qué plugins se pueden utilizar en el repositorio. La lista concreta de plugins, así como sus versiones y las versiones de los demás componentes utilizados, la podemos ver &lt;a href=&quot;https://pages.github.com/versions/&quot;&gt;aquí&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Uno de los plugins más útiles excluidos por GitHub Pages es &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll-archive&lt;/code&gt;, que se encarga de generar una estructura de carpetas y páginas para poder acceder a un archivo del blog por fechas o por tags. Este blog utiliza este plugin para poder mostrar todos los posts de una etiqueta específica. Así que vamos a ver cómo podemos librar a nuestras páginas de esta restricción.&lt;/p&gt;

&lt;h3 id=&quot;generación-local&quot;&gt;Generación local&lt;/h3&gt;
&lt;p&gt;La primera opción para usar este plugin, o cualquier otro, es utilizar la compilación del Jekyll local. Para servir nuestro site, GitHub Pages analiza el contenido de la carpeta &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; de nuestro repositorio &lt;code class=&quot;highlighter-rouge&quot;&gt;nombreusuario.github.io&lt;/code&gt; (al menos en páginas personales). Si en el directorio raíz del repositorio no hay un archivo &lt;code class=&quot;highlighter-rouge&quot;&gt;_config.yml&lt;/code&gt;, GitHub Pages servirá los contenidos existentes como un servidor web normal. Así, si subimos a &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt; el contenido de nuestra carpeta &lt;code class=&quot;highlighter-rouge&quot;&gt;_site&lt;/code&gt; local (sólo el contenido, sin la carpeta en sí) tendremos publicado en GitHub Pages el mismo sitio web que está publicando nuestro Jekyll local.&lt;/p&gt;

&lt;h3 id=&quot;codeship&quot;&gt;Codeship&lt;/h3&gt;
&lt;p&gt;Otra opción interesante la encontré en este post: &lt;a href=&quot;https://www.drinkingcaffeine.com/deploying-jekyll-to-github-pages-without-using-githubs-jekyll/&quot;&gt;Deploying a Jekyll Site to Github Pages Without Using Github’s Jekyll&lt;/a&gt; (en inglés). La idea aquí es utilizar una aplicación web de integración continua para generar la compilación en dicho sitio, y copiar los contenidos automáticamente en el repositorio. El post utiliza como ejemplo &lt;a href=&quot;https://codeship.com/&quot;&gt;Codeship&lt;/a&gt;, que permite lanzar, al detectar un cambio en nuestro repositorio, un script en una máquina virtualizada que ya tiene todo el software que necesitamos. Este es el sistema que yo utilizo: Codeship se dispara cuando hay cambios en la rama &lt;code class=&quot;highlighter-rouge&quot;&gt;release&lt;/code&gt; de mi repositorio, y lanza este script:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git  clone git@github.com:javiercancela/javiercancela.github.io.git _site
cd _site
git checkout master || git checkout --orphan master
cd ..
rm -rf _site/**/* || exit 0
bundle install
bundle exec jekyll build
cd _site
git config user.email &amp;lt;mi email&amp;gt;
git config user.name &quot;javiercancela&quot;
git add -A .
git commit -m &quot;Deploy to Github Pages: ${CI_COMMIT_ID} --skip-ci&quot;
git push origin master
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;De esta forma, cada vez que publico una nueva versión en la rama &lt;code class=&quot;highlighter-rouge&quot;&gt;release&lt;/code&gt;, se publica en GitHub Pages una versión compilada sin restricciones de plugins.&lt;/p&gt;

&lt;p&gt;La variable &lt;code class=&quot;highlighter-rouge&quot;&gt;JEKYLL_ENV=production&lt;/code&gt; se define para que la compilación se haga incluyendo todo lo necesario para la publicación real. En mi caso, esto añade el javascript de Google Analytics.&lt;/p&gt;

&lt;h2 id=&quot;imágenes&quot;&gt;Imágenes&lt;/h2&gt;
&lt;p&gt;GitHub Pages tiene un límite de 1GB para el tamaño de los sites alojados. Aunque es un límite amplio, si no queremos superarlo tenemos que tener un poco de cuidado con el tamaño de los archivos que subamos. Una buena práctica es alojar los archivos multimedia en aplicaciones destinadas a ellos, como &lt;a href=&quot;https://www.youtube.com/&quot;&gt;YouTube&lt;/a&gt; para vídeos. Para los imágenes yo estoy usando &lt;a href=&quot;https://unsplash.com/&quot;&gt;Unsplash&lt;/a&gt;, un repositorio de imágenes muy fácil de usar, que descubrí gracias a la plantilla de Jekyll que estoy usando.&lt;/p&gt;

&lt;h2 id=&quot;conclusión&quot;&gt;Conclusión&lt;/h2&gt;
&lt;p&gt;GitHub Pages no es el alojamiento más indicado para cualquier persona que quiera crear un blog personal, pero es una gran opción parar quien quiera crear, sin pagar nada, un blog completamente personalizado. A cambio, eso sí, de emplear un poco de esfuerzo adicional.&lt;/p&gt;</content><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><summary type="html">Los blogs, y los sites en general, albergados en GitHub son totalmente estáticos. Es decir, al acceder a una url de nuestro blog no se ejecuta código en el servidor, tan solo se devuelven archivos html, js, css, multimedia, … tal como están guardados en el mismo.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.javiercancela.com/images/blog.jpg" /></entry><entry><title type="html">Teclado mecánico Logitech G610</title><link href="https://www.javiercancela.com/2017/02/12/teclado-mecanico-logitech/" rel="alternate" type="text/html" title="Teclado mecánico Logitech G610" /><published>2017-02-12T01:00:00+00:00</published><updated>2017-02-12T01:00:00+00:00</updated><id>https://www.javiercancela.com/2017/02/12/teclado-mecanico-logitech</id><content type="html" xml:base="https://www.javiercancela.com/2017/02/12/teclado-mecanico-logitech/">&lt;p&gt;&lt;a href=&quot;/2017/01/29/raton-vertical-CSL/&quot;&gt;Comprar un ratón nuevo&lt;/a&gt; no resolvió mi problema con el teclado roto. Mi teclado de los últimos años ha sido un &lt;a href=&quot;https://www.amazon.es/Logitech-K270-Teclado-inal%C3%A1mbrico-Espa%C3%B1ol/dp/B00779631W&quot;&gt;Logitech K270&lt;/a&gt;. No es un mal teclado: económico, resistente, inalámbrico, con buen tacto y no muy grande. Digo resistente pese a la rotura, porque su único problema fue una pata rota tras ser aporreado repetidamente por un niño pequeño, así que no creo que se pueda culpar al teclado del percance.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;So long! Remember my words -- I may again return.&quot; src=&quot;https://images-na.ssl-images-amazon.com/images/I/81vWDPRP5ML._SL1500_.jpg&quot; /&gt;
        &lt;figcaption&gt;So long! Remember my words -- I may again return.&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;h2 id=&quot;teclados-ergonómicos&quot;&gt;Teclados ergonómicos&lt;/h2&gt;
&lt;p&gt;Yo venía de un teclado ergonómico. No de cualquier teclado ergonómico, sino de uno de los mejores teclados ergonómicos que haya habido en el mercado: el &lt;a href=&quot;http://xahlee.info/kbd/ms_keyboard/ms_natural_keyboard.html&quot;&gt;Microsoft Wireless Natural Multimedia Keyboard&lt;/a&gt;. Teclado partido, reposamuñecas, teclas multimedia y un &lt;em&gt;layout&lt;/em&gt; especial en el grupo de teclas de Inicio (esto era lo único que no me convencía del teclado).&lt;/p&gt;

&lt;p&gt;La evidencia científica &lt;a href=&quot;http://www.claimsjournal.com/news/national/2014/01/09/242633.htm&quot;&gt;no parece respaldar la ventajas terapéuticas&lt;/a&gt; de este tipo de teclados, pero yo lo encontraba muy cómodo. Además estaba muy bien hecho: Microsoft tiene una larga tradición en el diseño de este tipo de modelos, como se puede apreciar en &lt;a href=&quot;http://xahlee.info/kbd/Microsoft_natural_keyboard.html&quot;&gt;esta página&lt;/a&gt;. Yo estuve 10 años con él, y creo que cambié más por el aspecto mugriento que tenía al final que porque hubiese dejado de funcionar.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Voy a entrar en MySpace mientras me descargo algo de Napster&quot; src=&quot;https://www.microsoft.com/presspass/images/features/2002/09-03hardware5_l.jpg&quot; /&gt;
        &lt;figcaption&gt;Voy a entrar en MySpace mientras me descargo algo de Napster&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Mi primera idea fue comprar el último de la saga: el &lt;a href=&quot;https://www.microsoft.com/accessories/es-es/products/keyboards/sculpt-ergonomic-desktop/l5v-00011&quot;&gt;Microsoft Sculpt Ergonomic Desktop&lt;/a&gt;. Un diseño atrevido pero atractivo, con teclado numérico separado y &lt;a href=&quot;https://www.amazon.co.uk/Microsoft-Ergonomic-Desktop-Keyboard-Numeric/dp/B00EO4NN5C&quot;&gt;buenas críticas&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;No me acabé decidiendo porque tenía en la cabeza la idea de comprar un teclado mecánico, pero lo tengo en cartera por si tengo que comprar otro teclado próximamente (ya me inventaré un motivo). No es barato (&lt;a href=&quot;https://www.amazon.es/Microsoft-Sculpt-Ergonomic-Desktop-L5V-00011/dp/B00FO10ZK0&quot;&gt;aquí está a 95€&lt;/a&gt;), pero por &lt;a href=&quot;http://xahlee.info/kbd/ms_keyboard/ms_natural_keyboard.html&quot;&gt;su abuelo&lt;/a&gt; pagué 120€ de los de hace casi 15 años y no me arrepentí.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Creo que sale en la última de Blade Runner&quot; src=&quot;http://compass.microsoft.com/assets/5f/08/5f08ee27-dc2e-4bdb-9256-ee2d19891cdd.jpg?n=mk_SEDT_otherviews01.jpg&quot; /&gt;
        &lt;figcaption&gt;Creo que sale en la última de Blade Runner&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;h2 id=&quot;teclados-mecánicos&quot;&gt;Teclados mecánicos&lt;/h2&gt;
&lt;p&gt;Total, que me decidí por uno mecánico. ¿Por qué? Porque me apetecía volver a probar el tacto tan característico de este tipo de teclados, y revisando opciones encontré uno que me pareció bonito.&lt;/p&gt;

&lt;p&gt;Existen fundamentalmente dos tipos de teclado: de membrana y mecánicos. Los de membrana son los más habituales. Bajo las teclas tienen una membrana de tres capas. Al pulsar una tecla la capa superior entra en contacto la inferior a través de un agujero en la capa central, enviando la señal correspondiente. Suelen ser teclados más baratos (salvo los ergonómicos), silenciosos y ligeros.&lt;/p&gt;

&lt;p&gt;Los teclados mecánicos funcionan incorporando un interruptor mecánico en cada tecla. En &lt;a href=&quot;http://www.keyboardco.com/blog/index.php/2012/12/an-introduction-to-cherry-mx-mechanical-switches/&quot;&gt;esta página&lt;/a&gt; se puede ver una descripción gráfica del funcionamiento de los modelos &lt;a href=&quot;http://cherryamericas.com/product/mx-series/&quot;&gt;Cherry MX&lt;/a&gt;, los interruptores más populares.
Los teclados mecánicos son más ruidosos y pesados, pero también son más robustos, y poseen un tacto especial que mucha gente encuentra agradable.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Teclea, teclea&quot; src=&quot;/images/Brown.gif&quot; /&gt;
        &lt;figcaption&gt;Teclea, teclea&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;No es fácil buscar un teclado mecánico discreto, porque la oferta está saturada de teclados para &lt;em&gt;gamers&lt;/em&gt;. ¿Que qué tienen de malo los teclados para &lt;em&gt;gamers&lt;/em&gt;? Nada, si tienes 15 años y usas una visera tres tallas más pequeña.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;En un país multicolooooor...&quot; src=&quot;https://cdn0.vox-cdn.com/thumbor/Qnt4dD3-z4fO9wZm6gnP73m0jE4=/1200x0/filters:no_upscale()/cdn0.vox-cdn.com/uploads/chorus_asset/file/7473813/K70_RAPIDFIRE_RGB_NA_01.0.png&quot; /&gt;
        &lt;figcaption&gt;En un país multicolooooor...&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Al final me decidí por el &lt;a href=&quot;http://gaming.logitech.com/en-us/product/g610-orion-brown-keyboard&quot;&gt;Logitech G610 Orion Brown&lt;/a&gt;. Logitech lo coloca en la categoría &lt;em&gt;gaming&lt;/em&gt;, pero no hay que llevarse a engaño. Es un teclado iluminado, pero sólo en blanco, con un color negro mate bastante bonito, y sin teclas programables. El tacto de los interruptores Cherry MX Brown es muy agradable, y el teclado se ve sólido, aunque algo pesado. Un teclado apropiado para gente a la que le guste escribir, o programar. &lt;a href=&quot;https://www.amazon.es/Logitech-G610-Orion-Brown-Teclado/dp/B01CHYS2YM/&quot;&gt;90€ en Amazon&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Tiene algunas peculiaridades: los símbolos secundarios está bajo los principales. Es decir, la admiración bajo el 1 y el punto y coma bajo la coma. Esto ocurre en otros modelos mecánicos, y el motivo está en la iluminación: los interruptores llevan el led en la parte superior, de manera que los símbolos que se iluminan están en la parte más alta de la tecla para coincidir con el led.&lt;/p&gt;

&lt;p&gt;La adaptación a este teclado me ha resultado un poco más lenta que al ratón. Creo que probaré con un reposamuñecas, porque este teclado requiere algo más de esfuerzo, o al menos de recorrido con los dedos, y mis muñecas lo notan al cabo de unas horas. Pero el resultado global es positivo: escribir en él es un gustazo.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Y además es bonito&quot; src=&quot;/images/LogitechG610-2.jpg&quot; /&gt;
        &lt;figcaption&gt;Y además es bonito&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;h2 id=&quot;actualización-11032017&quot;&gt;Actualización 11/03/2017&lt;/h2&gt;

&lt;p&gt;Tras reinstalar mi ordenador con Ubuntu he visto que no hay versión del software del teclado para Linux. Esto es un problema, ya que la configuración por defecto del teclado muestra las luces con efecto de “ola”. Así que buscando por internet he encontrado &lt;a href=&quot;https://www.reddit.com/r/MechanicalKeyboards/comments/5er55e/review_logitech_g610_orion_brown/&quot;&gt;esta página de Reddit&lt;/a&gt; con la siguiente chuleta:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Light Switch + 0 - Fixed Light mode
Light Switch + 1 - Wave mode, left to right.
Light Switch + 2 - Wave mode, right to left. 
Light Switch + 3 - Wave mode, center out.
Light Switch + &quot;Plus Key&quot; - Increase speed of effect.
Light Switch + &quot;Minus Key&quot; - Decrease speed of effect.
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Problema resuelto.&lt;/p&gt;</content><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><summary type="html">Comprar un ratón nuevo no resolvió mi problema con el teclado roto. Mi teclado de los últimos años ha sido un Logitech K270. No es un mal teclado: económico, resistente, inalámbrico, con buen tacto y no muy grande. Digo resistente pese a la rotura, porque su único problema fue una pata rota tras ser aporreado repetidamente por un niño pequeño, así que no creo que se pueda culpar al teclado del percance.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.javiercancela.com/images/LogitechG610.jpg" /></entry><entry><title type="html">Un blog en GitHub (IV - Asignar un dominio)</title><link href="https://www.javiercancela.com/2017/02/05/un-blog-en-github-iv/" rel="alternate" type="text/html" title="Un blog en GitHub (IV - Asignar un dominio)" /><published>2017-02-05T01:00:00+00:00</published><updated>2017-02-05T01:00:00+00:00</updated><id>https://www.javiercancela.com/2017/02/05/un-blog-en-github-iv</id><content type="html" xml:base="https://www.javiercancela.com/2017/02/05/un-blog-en-github-iv/">&lt;p&gt;Como hemos visto antes, la url de nuestro blog será http://nombreusuario.github.io, de forma que la url coincida con el nombre del repositorio. Si nos interesa, podemos cambiar el dominio de la página por un dominio de nuestra propiedad. Por ejemplo, la url de este blog es &lt;a href=&quot;http://www.javiercancela.com&quot;&gt;http://www.javiercancela.com&lt;/a&gt;, en vez de &lt;a href=&quot;http://javiercancela.github.io&quot;&gt;http://javiercancela.github.io&lt;/a&gt;. Veamos cómo se realiza este cambio.&lt;/p&gt;

&lt;p&gt;En primer lugar, nos vamos a nuestro repositorio en GitHub y entramos en el apartado Settings. En mi caso, la url es https://github.com/javiercancela/javiercancela.github.io/settings. Aquí, en la parte inferior, en la sección “GitHub Pages”, encontramos el campo “Custom domain”. Escribo aquí &lt;code class=&quot;highlighter-rouge&quot;&gt;www.javiercancela.com&lt;/code&gt; y pulso “Save”. La parte de &lt;code class=&quot;highlighter-rouge&quot;&gt;www.&lt;/code&gt; es opcional. Sin embargo, GitHub recomienda que use por cuestiones de rendimiento y estabilidad. Ver &lt;a href=&quot;https://help.github.com/articles/about-supported-custom-domains/#www-subdomains&quot;&gt;www subdomains&lt;/a&gt; (en inglés).&lt;/p&gt;

&lt;p&gt;Una vez asignado el dominio en GitHub, configuraremos un par de cosas en nuestro proveedor de dominios. Vamos a añadir registros para el dominio javiercancela.com y su subdominio www.javiercancela.com. La forma de hacerlo varía según el proveedor, pero debería ser algo así:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Añadimos un registro ALIAS o ANAME para javiercancela.com. Si no se soportan ALIAS ni ANAME, usaremos un registro A. Este tipo de registros asignan un dominio a una ip. Las ips que proporciona GitHub son 192.30.252.153 y 192.30.252.154. En mi caso mi proveedor no permite asignar registros ALIAS ni ANAME, por lo que los registros quedan así:
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;A   @   192.30.252.153
A   @   192.30.252.154
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
  &lt;li&gt;Añadimos un registro CNAME para www.javiercancela.com. Este tipo de registros asocia un subdominio a otro dominio, que será el que sirva el contenido. el registro quedará así:
    &lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;CNAME   www   javiercancela.github.io
&lt;/code&gt;&lt;/pre&gt;
    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;El cambio tardará un rato en propagarse, pero al cabo de unas horas el blog estará disponible en http://www.javiercancela.com. Al poner el subdominio &lt;code class=&quot;highlighter-rouge&quot;&gt;www.javiercancela.com&lt;/code&gt; como dominio personalizado tanto http://javiercancela.com como http://javiercancela.github.io redirigirán a este.&lt;/p&gt;

&lt;h2 id=&quot;configurar-acceso-ssl&quot;&gt;Configurar acceso SSL&lt;/h2&gt;
&lt;p&gt;Una limitación de lo que hemos hecho hasta ahora es que nuestro dominio no va a funcionar (correctamente, al menos) a través de https. Los navegadores comprueban que el certificado del servidor, con el que se cifra la conexión SSL, sea válido para el dominio al que se está accediendo. Como nuestra página está en los servidores de GitHub, el certificado sólo cubre dominios *.github.io, por lo que los navegadores mostrarán un mensaje de error alertando de la posibilidad de que la página tenga un propósito fraudulento.&lt;/p&gt;

&lt;p&gt;Hoy en día cualquier página debería estar disponible a través de https, así que tenemos que corregir este problema. Para ello vamos a usar &lt;a href=&quot;https://www.cloudflare.com&quot;&gt;Cloudeflare&lt;/a&gt;, un &lt;a href=&quot;https://es.wikipedia.org/wiki/Red_de_entrega_de_contenidos&quot;&gt;CDN&lt;/a&gt; con servicios SSL gratuitos. La información que se indica a continuación está sacada de estos dos posts:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://blog.keanulee.com/2014/10/11/setting-up-ssl-on-github-pages.html&quot;&gt;Setting up SSL on GitHub Pages&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://sheharyar.me/blog/free-ssl-for-github-pages-with-custom-domains/&quot;&gt;Set Up SSL on Github Pages With Custom Domains for Free&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Lo primero que haremos será crear una cuenta con nuestro dominio (&lt;code class=&quot;highlighter-rouge&quot;&gt;javiercancela.com&lt;/code&gt;, en este caso usamos el dominio principal, ya que el certificado cubrirá todos los subdominios). Después tendremos que ir a nuestro proveedor de dominios y cambiar los nameservers que estemos usando por los que proporciona Cloudeflare: &lt;code class=&quot;highlighter-rouge&quot;&gt;curt.ns.cloudflare.com&lt;/code&gt; y &lt;code class=&quot;highlighter-rouge&quot;&gt;jessica.ns.cloudflare.com&lt;/code&gt;. Finalmente accederemos a la opción Crypto-&amp;gt;SSL de nuestro dominio y cambiaremos el valor “Full” por “Flexible”.&lt;/p&gt;

&lt;p&gt;El cambio debería ser casi inmediato, si probamos en unos minutos a acceder a nuestro blog vía https comprobaremos que la conexión ya es segura.&lt;/p&gt;

&lt;p&gt;Como último paso vamos a modificar la plantilla por defecto para asegurarnos de que los usuarios acceden siempre por https. En el archivo &lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts\default.html&lt;/code&gt;, añadimos justo tras el &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;head&amp;gt;&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;host&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;www.javiercancela.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;host&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;protocol&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Este código javascript le indica al navegador que cambie el protocolo a https, si no es el que ya está usando.&lt;/p&gt;</content><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><summary type="html">Como hemos visto antes, la url de nuestro blog será http://nombreusuario.github.io, de forma que la url coincida con el nombre del repositorio. Si nos interesa, podemos cambiar el dominio de la página por un dominio de nuestra propiedad. Por ejemplo, la url de este blog es http://www.javiercancela.com, en vez de http://javiercancela.github.io. Veamos cómo se realiza este cambio.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.javiercancela.com/images/blog.jpg" /></entry><entry><title type="html">Ratón vertical CSL</title><link href="https://www.javiercancela.com/2017/01/29/raton-vertical-CSL/" rel="alternate" type="text/html" title="Ratón vertical CSL" /><published>2017-01-29T01:00:00+00:00</published><updated>2017-01-29T01:00:00+00:00</updated><id>https://www.javiercancela.com/2017/01/29/raton-vertical-CSL</id><content type="html" xml:base="https://www.javiercancela.com/2017/01/29/raton-vertical-CSL/">&lt;p&gt;Tenía ganas de comprarme un ratón nuevo. Bueno, en realidad se me había roto el teclado de casa, así que me puse a buscar teclados por internet y acabé comprando un ratón. El teclado también, pero más tarde. Amazon es un invento del demonio.&lt;/p&gt;

&lt;p&gt;Hace un par de años me pasó una cosa curiosa. Estaba con un cliente mirando algo en su ordenador. Yo quise mostrarle alguna cosa, y para ello lo más rápido era coger su teclado y su ratón. Así que me acerqué a ambos, me dispuse a teclear y… no supe cómo. Me encontré con un teclado sin caracteres marcados, y con un &lt;em&gt;layout&lt;/em&gt; rarísimo. Creo que el teclado &lt;a href=&quot;https://www.trulyergonomic.com/store/truly-ergonomic-mechanical-keyboard-soft-tactile-kailh-cherry-mx-compatible-brown-keyswitches-227-english&quot;&gt;era este&lt;/a&gt;, pero con las teclas sin marcar:&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Ahora imaginaos que todas las teclas están borradas y os haréis una idea&quot; src=&quot;/images/Truly_Ergonomic_Keyboard2.jpg&quot; /&gt;
        &lt;figcaption&gt;Ahora imaginaos que todas las teclas están borradas y os haréis una idea&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Mantuve las manos unos centímetros por encima del teclado durante un rato, sin decidirme a tocarlo. Finalmente cambié de estrategia y moví una de ellas hacia el ratón. Me encontré &lt;a href=&quot;http://www.posturite.co.uk/penguin-mouse.html&quot;&gt;con esto&lt;/a&gt;:&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Esto es un joystick de toda la vida de dios&quot; src=&quot;/images/penguin_vertical_mouse.jpg&quot; /&gt;
        &lt;figcaption&gt;Esto es un joystick de toda la vida de dios&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;En mi defensa diré que lo intenté: lo agarré como un joystick, pulsé botones al azar, lo moví como si fuera una palanca, y finalmente devolví todo a su dueño con la poca dignidad que me quedaba.&lt;/p&gt;

&lt;p&gt;Así que después de romper el teclado de casa me acordé de esta historia y pensé: ¿y si pruebo uno de estos cacharros raros?&lt;/p&gt;

&lt;h2 id=&quot;ratones-ergonómicos&quot;&gt;Ratones ergonómicos&lt;/h2&gt;
&lt;p&gt;No hace falta pasarte el día usando el ordenador para notar que la postura con la  que se sujeta un ratón convencional es un poco forzada. Sin embargo, así como en teclados existe desde hace tiempo una gran cantidad de modelos ergonómicos, la oferta en ratones ha sido siempre mucho más escasa. Al menos hasta hace unos pocos años, con la aparición de los ratones verticales.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;Bonito, pero incómodo&quot; src=&quot;/images/night-apple-mouse-mac.jpg&quot; /&gt;
        &lt;figcaption&gt;Bonito, pero incómodo&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Un ratón vertical es un ratón que no se sujeta con la mano por encima, sino agarrándolo de forma parecida a un &lt;em&gt;joystick&lt;/em&gt;: la mano apoyada de canto, el pulgar por un lado y el resto de los dedos por el otro. El agarre varía entre modelos, pero la idea es siempre que la muñeca no se mantenga en horizontal, liberando tensión sobre los tendones. Esa es la teoría.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;La teoría explicada en un bonito dibujo&quot; src=&quot;/images/Why-use-a-Vertical-Mouse3.jpg&quot; /&gt;
        &lt;figcaption&gt;La teoría explicada en un bonito dibujo&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Un par de personas del trabajo han sustituido sus ratones corporativos por modelos verticales (aunque más convenciones que el &lt;a href=&quot;http://www.posturite.co.uk/penguin-mouse.html&quot;&gt;Penguin Ambidextrous Vertical Mouse&lt;/a&gt;), como el &lt;a href=&quot;http://www.logitech.com/en-us/product/mx-master?crid=7&quot;&gt;Logitech MX Master&lt;/a&gt;, que es realmente bonito, pero que vale &lt;a href=&quot;https://www.amazon.es/Logitech-MX-Master-Rat%C3%B3n-inal%C3%A1mbrico/dp/B00ULNAOMA/ref=sr_1_5?s=computers&amp;amp;ie=UTF8&amp;amp;qid=1485540765&amp;amp;sr=1-5&quot;&gt;75€ en Amazon&lt;/a&gt;. Así que me decidí a intentarlo, pero probando un modelo más económico, por si acaso.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;El Armani de los ratones&quot; src=&quot;https://images-na.ssl-images-amazon.com/images/I/61fs%2B1Mz1TL._SX522_.jpg
&quot; /&gt;
        &lt;figcaption&gt;El Armani de los ratones&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;h2 id=&quot;buscando-la-mejor-opción&quot;&gt;Buscando la mejor opción&lt;/h2&gt;

&lt;p&gt;A la hora de decidir qué modelo comprar de ordenador, móvil, televisión, o de cualquier otro dispositivo electrónico del que exista una gran oferta, siempre sigo la misma estrategia: me fijo un presupuesto, listo los principales modelos analizados en sitios como &lt;a href=&quot;https://arstechnica.com/gadgets/&quot;&gt;Ars Technica&lt;/a&gt; y &lt;a href=&quot;http://www.tomshardware.com/articles/review/&quot;&gt;Tom’s Hardware&lt;/a&gt;, y finalmente compro lo que recomienda el primer blog desconocido que me encuentro buscado por Google. En este caso, &lt;a href=&quot;http://blog.pythonaro.com/2016/08/csl-vertical-mouse-review.html&quot;&gt;este&lt;/a&gt;.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;¡Lo recomiendan en un blog! ¡Tiene que ser bueno!&quot; src=&quot;https://images-na.ssl-images-amazon.com/images/I/81uKkvC%2BG4L._SL1500_.jpg
&quot; /&gt;
        &lt;figcaption&gt;¡Lo recomiendan en un blog! ¡Tiene que ser bueno!&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Lo cierto es que el ratón tiene &lt;a href=&quot;https://www.amazon.es/gp/product/B00KXRWR1A/ref=oh_aui_detailpage_o02_s00?ie=UTF8&amp;amp;psc=1&quot;&gt;buenas críticas en Amazon, y un precio razonable&lt;/a&gt;. En el lado negativo, la marca es totalmente desconocida, y la &lt;a href=&quot;https://www.csl-computer.com/shop/&quot;&gt;página web&lt;/a&gt; no inspira mucha confianza. Es decir, no es que la web tenga nada de malo, más allá de parecer una tienda online de los 90 sólo disponible en alemán, pero no es lo que esperas si quieres reforzar tu decisión de comprar esta marca.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;¿Veis la sección dedicada al ratón que he comprado? Yo tampoco&quot; src=&quot;/images/csl.jpg&quot; /&gt;
        &lt;figcaption&gt;¿Veis la sección dedicada al ratón que he comprado? Yo tampoco&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Naturalmente, mi análisis fue mucho más allá, revisando todo tipo de comparativas y recomendaciones, como el &lt;a href=&quot;https://wiki.ezvid.com/best-vertical-mice&quot;&gt;ranking de esta página&lt;/a&gt;, donde destacaban el &lt;a href=&quot;https://www.amazon.co.uk/SHARKK%C2%AE-Wireless-Ergonomic-Vertical-Computer/dp/B0155JLOC8/ref=as_li_ss_tl?ie=UTF8&amp;amp;qid=1470307692&amp;amp;sr=8-1&amp;amp;keywords=sharkk+mouse&amp;amp;linkCode=sl1&amp;amp;tag=subclassed-21&amp;amp;linkId=3cd730faba892a050e6d85033b08c689&quot;&gt;SHARKK 5-Button Optical&lt;/a&gt; (puesto 6), y el &lt;a href=&quot;https://www.amazon.com/Anker-Wireless-Vertical-Ergonomic-Optical/dp/B00BIFNTMC&quot;&gt;Anker 2.4G wireless vertical ergonomic&lt;/a&gt; (puesto 2).&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;De tanto mirar ratones ya veo doble&quot; src=&quot;https://images-na.ssl-images-amazon.com/images/I/61m0uo2D05L._SX522_.jpg&quot; /&gt;
        &lt;img alt=&quot;De tanto mirar ratones ya veo doble&quot; src=&quot;https://images-na.ssl-images-amazon.com/images/I/71d7r9qzUpL._SX522_.jpg&quot; /&gt;
        &lt;figcaption&gt;De tanto mirar ratones ya veo doble&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;

&lt;p&gt;Ok, mi nuevo ratón es un modelo fabricado en China y vendido a otras empresas para lo vendan bajo su propia marca. Eso sí, con cierto reparo, porque ni &lt;a href=&quot;https://www.anker.com/&quot;&gt;Anker&lt;/a&gt; ni &lt;a href=&quot;https://www.sharkk.com/&quot;&gt;Sharkk&lt;/a&gt; tienen ratones entre su catálogo web. Vender ratones fabricados por otra empresa dará dinero, pero no buena imagen.&lt;/p&gt;

&lt;h2 id=&quot;todo-eso-está-muy-bien-pero-qué-tal-el-ratón&quot;&gt;Todo eso está muy bien, pero ¿qué tal el ratón?&lt;/h2&gt;
&lt;p&gt;Pues estupendamente. La principal preocupación al comprar un ratón de este tipo es ‘¿me adaptaré?’. En mi caso no tardé ni cinco minutos. La posición de la mano me resulta totalmente natural, la precisión del movimiento me parece mayor (incluso sin usar el botón que pasa de 1600 a 1000 &lt;a href=&quot;https://www.taringa.net/post/info/16991929/Que-son-los-DPI-PPP-en-un-Mouse.html&quot;&gt;dpi&lt;/a&gt;) y ya echo de menos el ratón cuando estoy en el trabajo (acabaré comprando uno para trabajar). Sólo he tenido que adaptarme un poco para hacer click con la rueda central (para abrir enlaces en nueva pestaña, cerrar pestaña, …), pero ha sido cosa de un par de días.&lt;/p&gt;

&lt;p&gt;El ratón incluye dos botones, accesibles con el pulgar, que realizan funciones de adelante y atrás. Pero nunca recuerdo que están ahí, así que aún no les he sacado provecho. Veremos como resulta la calidad del ratón en cuanto a su deterioro con el tiempo, pero de momento no puedo estar más satisfecho con la compra.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;
    &lt;figure&gt;
        &lt;img alt=&quot;El Equipo A aprueba esta compra&quot; src=&quot;/images/i-love-it-when-a-plan-comes-together.jpg&quot; /&gt;
        &lt;figcaption&gt;El Equipo A aprueba esta compra&lt;/figcaption&gt;
    &lt;/figure&gt;
&lt;/div&gt;</content><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><summary type="html">Tenía ganas de comprarme un ratón nuevo. Bueno, en realidad se me había roto el teclado de casa, así que me puse a buscar teclados por internet y acabé comprando un ratón. El teclado también, pero más tarde. Amazon es un invento del demonio.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://images-na.ssl-images-amazon.com/images/I/81uKkvC%2BG4L._SL1500_.jpg" /></entry><entry><title type="html">Un blog en GitHub (III - Crear un post)</title><link href="https://www.javiercancela.com/2017/01/21/un-blog-en-github-iii/" rel="alternate" type="text/html" title="Un blog en GitHub (III - Crear un post)" /><published>2017-01-21T22:00:00+00:00</published><updated>2017-01-21T22:00:00+00:00</updated><id>https://www.javiercancela.com/2017/01/21/un-blog-en-github-iii</id><content type="html" xml:base="https://www.javiercancela.com/2017/01/21/un-blog-en-github-iii/">&lt;p&gt;Los posts son archivos en formato &lt;a href=&quot;https://daringfireball.net/projects/markdown/&quot;&gt;markdown&lt;/a&gt; (aunque también se puede usar html), que se guardan en la carpeta &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt;. Como otros archivos, tienen un &lt;em&gt;front matter&lt;/em&gt; que permite asignarles propiedades. Por ejemplo, este es el &lt;em&gt;front matter&lt;/em&gt; de este post:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---
title: Un blog en GitHub (III - Crear un post)
date: 2017-01-12 22:00:00 +0200
description: La experiencia de montar un blog en GitHub
categories:
  - blog
  - github
image: /images/blog.jpg
comments: true
---
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Las propiedades ahí indicadas serán usadas por el archivo de &lt;em&gt;layout&lt;/em&gt; del post (&lt;code class=&quot;highlighter-rouge&quot;&gt;_layouts/post.html&lt;/code&gt;) y sus &lt;em&gt;includes&lt;/em&gt; para mostrar la imagen en la cabecera, poner la fecha del post, mostrar o no los comentarios de &lt;a href=&quot;https://disqus.com/&quot;&gt;disqus&lt;/a&gt;, y mostrar las categorías correspondientes.&lt;/p&gt;

&lt;p&gt;Para publicar el post, y en general para actualizar cualquier aspecto de nuestro sitio web, bastará con hacer un push a la rama por defecto del repositorio (si no la hemos cambiado, será la rama &lt;code class=&quot;highlighter-rouge&quot;&gt;master&lt;/code&gt;). Para los que no conozcan nada de Git, una buena guía básica en castellano es &lt;a href=&quot;http://rogerdudler.github.io/git-guide/index.es.html&quot;&gt;esta&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;markdown&quot;&gt;Markdown&lt;/h2&gt;
&lt;p&gt;Markdown es un formato muy simple, y lo habitual es utilizar un editor de texto para crear los documentos. Yo uso &lt;a href=&quot;https://www.sublimetext.com/3&quot;&gt;Sublime Text 3&lt;/a&gt; por varios motivos: es increíblemente rápido, tiene montones de extensiones para todo tipo de cosas, es multiplataforma y permite exportar toda su configuración de forma sencilla. De hecho lo utilizo para editar todo el blog: html, js, css,…&lt;/p&gt;

&lt;p&gt;También está el detalle de que es gratuito. Bueno, en realidad se puede usar sin licencia para evaluarlo, aunque incluye un recordatorio periódico para que compres una licencia si tienes pensado darle un uso continuado. La licencia vale 70$, y permite que una persona use la aplicación en todos los dispositivos que desee.&lt;/p&gt;

&lt;p&gt;Una buena referencia del formato es la guía de GitHub &lt;a href=&quot;https://guides.github.com/features/mastering-markdown/&quot;&gt;Mastering Markdwon&lt;/a&gt;. Incluye ejemplos detallados y la referencia de los aspectos específicos del Markdown que acepta GitHub.&lt;/p&gt;

&lt;h2 id=&quot;publicar-un-post&quot;&gt;Publicar un post&lt;/h2&gt;
&lt;p&gt;Los posts en Markdown se convierten a html, con lo que su aspecto dependerá tanto de los formatos que hayamos especificado como de los estilos que tenga nuestro sitio web. Para ver cómo queda un post basta con que jekyll se esté ejecutando en el directorio local de nuestro repositorio. Esto se puede hacer con el comando&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jekyll serve --future
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;El parámetro &lt;code class=&quot;highlighter-rouge&quot;&gt;--future&lt;/code&gt; le dice a Jekyll que muestre la información publicada en una fecha futura. Una práctica habitual consiste en indicar una fecha futura en el &lt;em&gt;front matter&lt;/em&gt; del post. De este modo podemos publicarlo en cualquier momento, pero sólo será visible cuando llegue la fecha indicada. Sin embargo, para revisar localmente cómo queda un post nos interesa verlo con independencia de su fecha, lo que conseguimos con este parámetro.&lt;/p&gt;

&lt;p&gt;En el caso de mi blog, y debido a que la plantilla usada utiliza varios &lt;em&gt;plugins&lt;/em&gt; Ruby, necesitamos ejecutar Jekyll en el contexto del bundle Ruby asociado. Esto lo hacemos así:&lt;/p&gt;
&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bundle exec jekyll serve --future
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;</content><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><summary type="html">Los posts son archivos en formato markdown (aunque también se puede usar html), que se guardan en la carpeta _posts. Como otros archivos, tienen un front matter que permite asignarles propiedades. Por ejemplo, este es el front matter de este post:
---
title: Un blog en GitHub (III - Crear un post)
date: 2017-01-12 22:00:00 +0200
description: La experiencia de montar un blog en GitHub
categories:
  - blog
  - github
image: /images/blog.jpg
comments: true
---


Las propiedades ahí indicadas serán usadas por el archivo de layout del post (_layouts/post.html) y sus includes para mostrar la imagen en la cabecera, poner la fecha del post, mostrar o no los comentarios de disqus, y mostrar las categorías correspondientes.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.javiercancela.com/images/blog.jpg" /></entry><entry><title type="html">El recuerdo del pasado de la tierra</title><link href="https://www.javiercancela.com/2017/01/15/el-recuerdo-del-pasado-de-la-tierra/" rel="alternate" type="text/html" title="El recuerdo del pasado de la tierra" /><published>2017-01-15T20:00:00+00:00</published><updated>2017-01-15T20:00:00+00:00</updated><id>https://www.javiercancela.com/2017/01/15/el-recuerdo-del-pasado-de-la-tierra</id><content type="html" xml:base="https://www.javiercancela.com/2017/01/15/el-recuerdo-del-pasado-de-la-tierra/">&lt;p&gt;&lt;em&gt;El recuerdo del pasado de la tierra&lt;/em&gt; es una trilogía de ciencia ficción escrita por el autor chino Cixin Liu. En español sólo se ha publicado el primer volumen, &lt;em&gt;&lt;a href=&quot;http://www.edicionesb.com/catalogo/libro/el-problema-de-los-tres-cuerpos_4120.html&quot;&gt;El problema de los Tres Cuerpos&lt;/a&gt;&lt;/em&gt; , y están en proceso de traducción los otros dos, &lt;a href=&quot;http://novalibros.com/2016/10/bosque-oscuro-fin-la-muerte-cixin-liu/&quot;&gt;&lt;em&gt;El bosque oscuro&lt;/em&gt; y &lt;em&gt;El fin de la muerte&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;div style=&quot;text-align:center&quot;&gt;&lt;img alt=&quot;Portada de El problema de los Tres Cuerpos&quot; src=&quot;/images/3cuerpos.jpg&quot; /&gt;&lt;/div&gt;

&lt;p&gt;Leí (más bien escuché) la traducción inglesa el año pasado: &lt;em&gt;The Three-Body Problem&lt;/em&gt; y &lt;em&gt;The Dark Forest&lt;/em&gt; a principios de año,  y &lt;em&gt;Death’s End&lt;/em&gt; cuando se publicó tras el verano. Oí hablar de ellos porque el primer libro &lt;a href=&quot;http://www.thehugoawards.org/2015/08/2014-hugo-award-winners-announced/&quot;&gt;ganó el premio Hugo en el 2015&lt;/a&gt;. La traducción me pareció muy buena; es decir, en ningún momento tuve la impresión de que se tratase de una traducción.&lt;/p&gt;

&lt;p&gt;El ritmo de los libros, especialmente del primero, resulta a veces lento. Más de un lector habrá abandonado al principio sin llegar a las partes más interesantes de la saga, que comienzan bien entrado el segundo libro.&lt;/p&gt;

&lt;p&gt;Los personajes no resultan demasiado interesantes. El autor no muestra mucho interés en explicarnos las motivaciones de los protagonistas, salvo cuando es necesario para aclarar la trama. No hay un “héroe” con el que identificarnos. Los personajes están al servicio de la trama, y esta sirve de excusa para explorar ideas extremas sobre la sociedad humana y el universo.&lt;/p&gt;

&lt;p&gt;La trilogía utiliza el contacto con una civilización extraterrestre para plantear una serie de escenarios científicos, morales y existenciales que constituyen la verdadera razón de ser de la obra. Esta contiene conjeturas extremas sobre física, biología e incluso sociología. Hasta propone una explicación (para mí fascinante) a la &lt;a href=&quot;https://es.wikipedia.org/wiki/Paradoja_de_Fermi&quot;&gt;paradoja de Fermi&lt;/a&gt; (aunque no sé si es una idea original). En este aspecto el libro muestra una capacidad de sugestión que  compensa de sobra sus defectos.&lt;/p&gt;

&lt;p&gt;En resumen, un libro muy recomendable para los amantes de la ciencia ficción dura, que no tengan miedo a largas descripciones científico-técnicas y que disfruten con tramas pensadas para motivar discusiones metafísicas.&lt;/p&gt;</content><author><name>Javier Cancela</name><email>javier.cancela.vicente@gmail.com</email></author><summary type="html">El recuerdo del pasado de la tierra es una trilogía de ciencia ficción escrita por el autor chino Cixin Liu. En español sólo se ha publicado el primer volumen, El problema de los Tres Cuerpos , y están en proceso de traducción los otros dos, El bosque oscuro y El fin de la muerte.</summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://www.javiercancela.com/images/ttbp.jpg" /></entry></feed>
